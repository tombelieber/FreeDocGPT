from __future__ import annotations

from typing import Dict

import streamlit as st


# Minimal translation catalog (expand as needed)
SUPPORTED_LOCALES = ["en", "zh-Hant", "zh-Hans", "es", "ja"]


def normalize_locale(code: str | None) -> str:
    if not code:
        return "en"
    s = str(code).strip()
    if not s:
        return "en"
    l = s.lower().replace("_", "-")
    # Direct matches
    if l in ("en", "es", "ja", "zh-hant", "zh-hans"):
        return {"zh-hant": "zh-Hant", "zh-hans": "zh-Hans"}.get(l, l)
    # English
    if l.startswith("en"):
        return "en"
    # Spanish
    if l.startswith("es"):
        return "es"
    # Japanese
    if l.startswith("ja") or l.startswith("jp"):
        return "ja"
    # Chinese
    if l.startswith("zh"):
        if "hant" in l or any(x in l for x in ("tw", "hk", "mo")):
            return "zh-Hant"
        if "hans" in l or any(x in l for x in ("cn", "sg", "my")):
            return "zh-Hans"
        # default ambiguous zh to Traditional (can be adjusted)
        return "zh-Hant"
    # Fallback
    return "en"


_TRANSLATIONS: Dict[str, Dict[str, str]] = {
    "en": {
        "app.title": "ğŸ“š FreeDocGPT",
        "app.subtitle": "Free, local document AI assistant â€” drop files in `documents/` and start asking questions.",
        "sidebar.document_management": "ğŸ“ Document Management",
        "sidebar.documents_folder": "ğŸ“‚ Documents folder: `./{folder}/`",
        "sidebar.index_new_docs": "ğŸ”„ Index New Documents",
        "sidebar.found_docs": "Found {count} document(s)",
        "sidebar.auto_detect": "ğŸ¤– AI-Powered Auto-Detection",
        "sidebar.auto_detect_help": "Uses LLM to detect document types and languages.",
        "sidebar.auto_detect_caption1": "âœ¨ AI analyzes each document to tune processing",
        "sidebar.auto_detect_caption2": "ğŸŒ Supports English, ä¸­æ–‡ (ç®€/ç¹), EspaÃ±ol, æ—¥æœ¬èª",
        "sidebar.no_docs_found": "No documents found in `./{folder}/`",
        "sidebar.supported_formats_title": "Supported formats:",
        "sidebar.vision_support_title": "ğŸ¨ Vision Support:",
        "sidebar.vision_support_detail": "âœ… PDF images, charts, and diagrams via LLaVA",
        "sidebar.indexed_docs": "ğŸ“Š Indexed Documents",
        "sidebar.reset_index": "ğŸ§¹ Reset Index",
        "sidebar.reset_index_help": "Drop LanceDB table and clear Tantivy index",
        "sidebar.no_index_yet": "No documents indexed yet",
        "sidebar.total_chunks": "Total Chunks",
        "sidebar.reset_ok": "Index reset completed.",
        "sidebar.reset_fail": "Failed to reset index. You can manually delete the .lancedb folder and reload.",
        "sidebar.tantivy_warn": "Tantivy clear warning: {err}",
        "search.header": "ğŸ” Search Settings",
        "search.mode": "Search Mode",
        "search.mode_help": "Choose search strategy: Hybrid combines keyword and vector search",
        "search.alpha_label": "Vector vs Keyword Weight",
        "search.alpha_help": "0 = Pure keyword search, 1 = Pure vector search, 0.5 = Balanced",
        "search.results_label": "Number of Results",
        "search.results_help": "Number of document chunks to retrieve",
        "search.weight_caption": "ğŸ“ Keyword: {kw}% | ğŸ¯ Vector: {vec}%",
        "chat.header": "ğŸ’¬ Ask Questions",
        "chat.input": "Ask a question about your documents...",
        "buttons.clear_chat": "ğŸ”„ Clear Chat",
        "chat.response_metrics": "ğŸ“Š Response Metrics",
        "chat.metrics_total_time": "Total time: {secs:.2f}s",
        "chat.metrics_first_token": "First token: {secs:.2f}s",
        "chat.metrics_tokens": "Tokens: {count}",
        "chat.metrics_speed": "Speed: {rate:.1f} tokens/sec",
        "footer.embedding_model": "Embedding Model:",
        "footer.generation_model": "Generation Model:",
        "chat.metric_response_time": "â±ï¸ Response Time",
        "chat.metric_first_token": "ğŸš€ First Token",
        "chat.metric_tokens": "ğŸ“ Tokens",
        "chat.metric_speed": "âš¡ Speed",
        "chat.searching": "ğŸ” Searching through documents...",
        "chat.found_chunks": "âœ… Found {count} relevant chunks in {secs:.2f}s",
        "chat.found_chunks_hybrid": " (Hybrid: {kw} keyword + {vec} vector)",
        "chat.found_chunks_keyword": " (Keyword: {kw} results)",
        "chat.found_chunks_vector": " (Vector: {vec} results)",
        "chat.sources": "ğŸ“– Sources",
        "chat.search_completed": "Search completed in {secs:.2f} seconds using {mode} mode",
        "chat.thinking": "ğŸ¤” Thinking...",
        "chat.initializing_model": "ğŸš€ Initializing AI model...",
        "chat.checking_model": "ğŸ” Checking model availability...",
        "chat.processing_visuals": "ğŸ¨ Processing visuals and charts...",
        "chat.extracting_visuals": "ğŸ“Š Extracting visual content from documents...",
        "chat.preparing_vision_response": "ğŸ§  Preparing vision-enhanced response...",
        "chat.connecting_model": "ğŸ”— Connecting to language model...",
        "chat.generating_response": "âœ¨ Generating response...",
        "chat.first_token_received": "ğŸš€ Response started!",
        "chat.streaming": "ğŸ”„ Streaming...",
        "chat.streaming_animated": "ğŸ”„ Streaming{dots}",
        "chat.complete": "âœ… Complete",
        "chat.error_generating": "Error generating response: {err}",
        "chat.no_relevant": "I couldn't find any relevant information in the indexed documents. Please make sure documents are indexed.",
        "chat.no_relevant_title": "âš ï¸ No relevant documents found",
        "lang.selector": "ğŸŒ Language / èªè¨€ / è¯­è¨€",
        "lang.en": "English",
        "lang.zh_hant": "ç¹é«”ä¸­æ–‡",
        "lang.zh_hans": "ç®€ä½“ä¸­æ–‡",
        "lang.es": "EspaÃ±ol",
        "lang.ja": "æ—¥æœ¬èª",

        # Settings panel
        "settings.title": "âš™ï¸ Settings",
        "settings.doc_processing": "ğŸ“Š Document Processing Settings",
        "settings.quick_presets": "ğŸ¯ Quick Presets",
        "settings.quick_presets_caption": "Optimized for common docs: Notion/Lark exports, PDFs, tech docs",
        "settings.preset_meeting": "ğŸ“ Meeting Notes",
        "settings.preset_prd": "ğŸ“‹ PRD/Specs",
        "settings.preset_tech": "ğŸ’» Tech Docs",
        "settings.preset_wiki": "ğŸ“š Wiki/KB",
        "settings.preset_applied_meeting": "ğŸ“ Applied Meeting Notes preset",
        "settings.preset_applied_prd": "ğŸ“‹ Applied PRD/Specs preset",
        "settings.preset_applied_tech": "ğŸ’» Applied Tech Docs preset",
        "settings.preset_applied_wiki": "ğŸ“š Applied Wiki/KB preset",
        "settings.chunk_size": "ğŸ“ Chunk Size (characters per segment)",
        "settings.chunk_help": "For Notion/Lark docs with mixed content, 1500-1800 is recommended.",
        "settings.overlap_size": "ğŸ”„ Overlap Size (shared text between chunks)",
        "settings.overlap_help": "For documents with code blocks, use 300-400.",
        "settings.results": "ğŸ” Search Results (number of relevant segments)",
        "settings.results_help": "For technical queries use 5-7, for simple Q&A use 3-5.",
        "settings.current_config": "ğŸ“Š Current Configuration",
        "settings.metric_chunk": "Chunk Size",
        "settings.metric_overlap": "Overlap",
        "settings.metric_results": "Results",
        "settings.small_good": "âš ï¸ Small: Good for Q&A",
        "settings.large_good": "ğŸ“¦ Large: Good for code",
        "settings.balanced": "âœ… Balanced",
        "settings.overlap_pct": "{pct:.0f}% of chunk size",
        "settings.focused": "ğŸ¯ Focused search",
        "settings.comprehensive": "ğŸŒ Comprehensive",
        "settings.best_practices": "ğŸ’¡ Best Practices",
        "settings.bp_notion_title": "ğŸ“Œ For Notion/Lark Export:",
        "settings.bp_notion_list": "- Export as Markdown (.md) for best results\n- Notion: Settings â†’ Export â†’ Markdown & CSV\n- Lark/Feishu: More â†’ Export â†’ Markdown",
        "settings.bp_reco_title": "ğŸ“Š Recommended Settings:",
        "settings.bp_reco_list": "- Meeting Notes: 600-800 chunk, 100 overlap\n- PRD/Specs: 1500 chunk, 300 overlap\n- Tech Docs: 1800 chunk, 400 overlap\n- Wiki/How-to: 1200 chunk, 200 overlap",
        "settings.prompt": "Prompt",
        "settings.prompt_active": "Active system prompt file:",
        "settings.preview_first300": "Preview first 300 chars",
        "settings.prompt_not_found": "Prompt file not found; using default built-in prompt.",
        "settings.prompt_could_not_read": "Could not read prompt file: {err}",
        "settings.reload_prompt": "ğŸ” Reload System Prompt",
        "settings.reload_ok": "System prompt reloaded.",
        "settings.reload_fail": "Failed to reload prompt: {err}",
        "settings.reload_na": "Search service not available to reload prompt.",
        "settings.models": "Models",
        "settings.ollama_prereq": "âš ï¸ Prerequisites Required:\n1. Install Ollama: `brew install ollama`\n2. Start Ollama: `ollama serve`\n3. Pull required models:\n   - `ollama pull embeddinggemma:300m`\n   - `ollama pull gpt-oss:20b`",
        "settings.embed_model": "Embedding Model",
        "settings.gen_model": "Generation Model",
        "settings.model_help": "Make sure this model is installed in Ollama",
        "settings.check_ollama": "ğŸ” Check Ollama Status",
        
        # Chat History
        "chat_history.header": "ğŸ’¬ Chat History",
        "chat_history.search_placeholder": "Search conversations...",
        "chat_history.found_count": "Found {count} conversation(s)",
        "chat_history.load_tooltip": "Click to load this conversation",
        "chat_history.loaded": "Loaded: {name}",
        "chat_history.rename": "Rename",
        "chat_history.delete": "Delete",
        "chat_history.export": "Export",
        "chat_history.no_search_results": "No conversations found matching '{query}'",
        "chat_history.no_conversations": "No saved conversations yet",
        "chat_history.new_conversation": "ğŸ†• New Conversation",
        "chat_history.current_conversation": "Current Conversation",
        "chat_history.conversation_name": "Conversation Name",
        "chat_history.renamed": "Conversation renamed",
        "chat_history.status_saved": "âœ… Saved",
        "chat_history.status_unsaved": "âš ï¸ Unsaved changes",
        "chat_history.save_conversation": "ğŸ’¾ Save Conversation",
        "chat_history.settings": "âš™ï¸ History Settings",
        "chat_history.auto_save": "Auto-save conversations",
        "chat_history.auto_save_help": "Automatically save conversations every few messages",
        "chat_history.save_interval": "Save every N messages",
        "chat_history.interval_help": "How often to auto-save during conversation",
        "chat_history.cleanup": "ğŸ§¹ Cleanup Old Conversations",
        "chat_history.cleaned_up": "Deleted {count} old conversations",
        "chat_history.no_cleanup_needed": "No old conversations to clean up",
        "chat_history.new_name": "New name",
        "chat_history.save": "Save",
        "chat_history.cancel": "Cancel",
        "chat_history.delete_warning": "âš ï¸ Delete '{name}'?",
        "chat_history.delete_confirm": "Delete",
        "chat_history.delete_success": "Conversation deleted",
        "chat_history.delete_error": "Failed to delete conversation",
        "chat_history.export_format": "Format",
        "chat_history.export_button": "Export",
        "chat_history.download": "Download",
        "chat_history.export_error": "Failed to export conversation",
        "chat_history.no_messages": "No messages to save",
        "chat_history.save_success": "Conversation saved: {name}",
        "chat_history.save_error": "Failed to save conversation",
        "chat_history.rename_success": "Conversation renamed",
        "chat_history.rename_error": "Failed to rename conversation",
        
        # Modern Chat History
        "chat_history.chats": "Chats",
        "chat_history.new_chat": "New Chat",
        "chat_history.recent": "Recent",
        "chat_history.pinned": "Pinned",
        "chat_history.no_pinned": "No pinned chats",
        "chat_history.click_to_load": "Click to load this chat",
        "chat_history.edit": "âœï¸ Edit",
        "chat_history.pin": "ğŸ“Œ Pin",
        "chat_history.unpin": "ğŸ“Œ Unpin",
        "chat_history.archive": "ğŸ“ Archive",
        "chat_history.today": "Today",
        "chat_history.yesterday": "Yesterday",
        "chat_history.last_7_days": "Last 7 days",
        "chat_history.last_30_days": "Last 30 days",
        "chat_history.older": "Older",
        
        # Context Visualizer
        "context.breakdown": "Context Breakdown",
        "context.free_space": "Free Space",
        "context.detailed_usage": "Detailed Token Usage",
        "context.optimization_tips": "ğŸ’¡ Optimization Tips",
        "context.warning_large_history": "âš ï¸ Conversation history is large. Consider starting a new chat for better performance.",
        "context.info_many_docs": "ğŸ“„ Many documents in context. Try more specific queries to reduce retrieval size.",
        "context.error_high_usage": "ğŸ”´ Context usage is high (>75%). Response quality may degrade. Consider clearing history.",
        "context.warning_moderate_usage": "ğŸŸ¡ Context usage is moderate (>50%). Monitor token usage.",
        "context.success_healthy_usage": "ğŸŸ¢ Context usage is healthy (<50%). Plenty of room for conversation.",
        "context.total_used": "Total Used",
        "context.free_space_metric": "Free Space",
        "context.system_prompt": "System Prompt",
        "context.conversation_history": "Conversation History",
        "context.current_query": "Current Query",
        "context.retrieved_documents": "Retrieved Documents",
        
        # Ollama Utils
        "ollama.error_cannot_connect": "âŒ Cannot connect to Ollama. Make sure it's running with: `ollama serve`",
        "ollama.error_gen_model_not_found": "âŒ Generation model '{model}' not found. Please run: `ollama pull {model}`",
        "ollama.info_gen_model_available": "âœ… Generation model '{model}' is available",
        "ollama.error_general": "âŒ Ollama error: {error}",
        
        # General UI
        "ui.no_files_to_index": "No files to index",
        "ui.auto_detecting": "ğŸ¤– Auto-detecting document types for optimal processing...",
        "ui.corrupted_index_warning": "Detected corrupted index. Resetting LanceDB table; please re-index your documents.",
        "ui.documents": "ğŸ“„ Documents",
        "ui.no_documents_found": "No documents found",
        "ui.supported_formats": "**Supported:** PDF, Word, Markdown, TXT, HTML, CSV, Excel, JSON",
        "ui.warning_permanent_delete": "âš ï¸ **Warning**: This will permanently delete all indexed documents and their embeddings!",
        "ui.reindex_needed": "You will need to re-index your documents to use search functionality.",
        "ui.no_documents_indexed": "No documents indexed",
        "ui.search": "ğŸ” Search",
        "ui.models": "ğŸ¤– Models",
        "ui.current_models": "**Current Models**",
        "ui.system_prompt": "**System Prompt**",
        "ui.settings": "âš™ï¸ Settings",
        "ui.interface": "**Interface**",
        "ui.document_processing": "**Document Processing**",
        "ui.current_configuration": "**Current Configuration**",
        "ui.index_reset_completed": "âœ… Index reset completed",
        "ui.index_reset_failed": "âŒ Failed to reset index",
        
        # Settings Panel - Missing Keys
        "settings.tab_quick": "âš¡ Quick Setup",
        "settings.tab_processing": "ğŸ”§ Processing", 
        "settings.tab_models": "ğŸ¤– Models",
        "settings.tab_interface": "ğŸ¨ Interface",
        "settings.doc_type_presets": "ğŸ¯ Document Type Presets",
        "settings.one_click_optimization": "One-click optimization for common document types",
        "settings.meeting_notes": "ğŸ“ Meeting Notes",
        "settings.meeting_notes_help": "Optimized for meeting notes and conversations",
        "settings.prd_specs": "ğŸ“‹ PRD/Specs", 
        "settings.prd_specs_help": "Best for product requirements and specifications",
        "settings.tech_docs": "ğŸ’» Tech Docs",
        "settings.tech_docs_help": "Ideal for code documentation and technical guides",
        "settings.wiki_kb": "ğŸ“š Wiki/KB",
        "settings.wiki_kb_help": "Perfect for knowledge base articles",
        "settings.applied_meeting_notes": "ğŸ“ Applied Meeting Notes preset",
        "settings.applied_prd_specs": "ğŸ“‹ Applied PRD/Specs preset",
        "settings.applied_tech_docs": "ğŸ’» Applied Tech Docs preset",
        "settings.applied_wiki_kb": "ğŸ“š Applied Wiki/KB preset",
        "settings.current_config_overview": "ğŸ“Š Current Configuration",
        "settings.real_time_overview": "Real-time overview of your active settings",
        "settings.chunk_size_metric": "Chunk Size",
        "settings.overlap_metric": "Overlap",
        "settings.results_metric": "Results",
        "settings.small_good_qa": "âš ï¸ Small: Good for Q&A",
        "settings.large_good_code": "ğŸ“¦ Large: Good for code",
        "settings.balanced_setting": "âœ… Balanced",
        "settings.overlap_percentage": "{pct:.0f}% of chunk size",
        "settings.focused_search": "ğŸ¯ Focused search",
        "settings.comprehensive_search": "ğŸŒ Comprehensive",
        "settings.balanced_search": "âš–ï¸ Balanced",
        "settings.quick_tips": "ğŸ’¡ Quick Tips & Best Practices",
        "settings.getting_started": "ğŸš€ Getting Started:",
        "settings.getting_started_text": "- New user? Try **Meeting Notes** preset for most documents\n- Working with code? Use **Tech Docs** preset\n- Processing PDFs? **PRD/Specs** handles structured content well",
        "settings.performance_tips": "ğŸ¯ Performance Tips:",
        "settings.performance_tips_text": "- Smaller chunks = faster search, less context\n- Larger chunks = slower search, more context\n- Higher overlap = better coherence, more storage",
        "settings.core_processing": "ğŸ”§ Core Processing Settings",
        "settings.fine_tune_chunking": "Fine-tune how documents are chunked and processed",
        "settings.chunk_size_chars": "ğŸ“ Chunk Size (characters per segment)",
        "settings.mixed_content_recommendation": "For mixed content documents, 1500-1800 is recommended.",
        "settings.overlap_size_chars": "ğŸ”„ Overlap Size (shared text between chunks)",
        "settings.code_blocks_recommendation": "For documents with code blocks, use 300-400.",
        "settings.search_configuration": "ğŸ” Search Configuration",
        "settings.search_results_control": "Control how many results are returned",
        "settings.search_results_segments": "Search Results (number of relevant segments)",
        "settings.technical_qa_recommendation": "For technical queries use 5-7, for simple Q&A use 3-5.",
        "settings.focused_search_info": "ğŸ¯ **Focused Search**\nFaster, more precise results",
        "settings.balanced_search_info": "âš–ï¸ **Balanced Search**\nGood mix of speed and coverage",
        "settings.comprehensive_search_info": "ğŸŒ **Comprehensive Search**\nMore context, slower processing",
        "settings.doc_type_guidelines": "ğŸ“‹ Document Type Guidelines",
        "settings.optimized_settings_by_type": "ğŸ¯ Optimized Settings by Document Type",
        "settings.text_heavy_docs": "ğŸ“ Text-Heavy Documents:",
        "settings.text_heavy_list": "- Meeting Notes: 600-800 chunk, 100 overlap\n- Articles/Blogs: 800-1200 chunk, 150 overlap\n- Books/Long Form: 1200-1500 chunk, 200 overlap",
        "settings.structured_docs": "ğŸ’» Structured Documents:",
        "settings.structured_list": "- Technical Docs: 1500-1800 chunk, 300-400 overlap\n- Code Documentation: 1800-2000 chunk, 400 overlap\n- API References: 1000-1500 chunk, 200-300 overlap",
        "settings.export_format_recs": "ğŸ“¤ Export Format Recommendations",
        "settings.for_best_results": "ğŸ“Œ For Best Results:",
        "settings.notion_lark_export": "**Notion/Lark Export:**\n- âœ… Export as Markdown\n- âœ… Include images and tables\n- âš ï¸ Avoid HTML export (complex formatting)",
        "settings.pdf_processing": "**PDF Processing:**\n- âœ… Text-based PDFs work best\n- âœ… Use higher chunk sizes (1500+)\n- âš ï¸ Scanned PDFs may need OCR",
        "settings.code_documentation": "**Code Documentation:**\n- âœ… Markdown with code blocks\n- âœ… High overlap for code continuity\n- âœ… Include file structure context",
        "settings.prerequisites_setup": "âš™ï¸ Prerequisites & Setup Guide",
        "settings.required_setup_steps": "ğŸ› ï¸ Required Setup Steps",
        "settings.install_ollama": "**1. Install Ollama:**\n```bash\nbrew install ollama\n```\n\n**2. Start Ollama Service:**\n```bash\nollama serve\n```",
        "settings.pull_models": "**3. Pull Required Models:**\n```bash\nollama pull embeddinggemma:300m\nollama pull gpt-oss:20b\n```",
        "settings.tip_keep_running": "ğŸ’¡ **Tip:** Keep Ollama running in the background for best performance",
        "settings.model_configuration": "ğŸ¤– Model Configuration",
        "settings.configure_models": "Configure which models to use for embeddings and generation",
        "settings.embedding_model": "ğŸ”¤ Embedding Model", 
        "settings.embedding_model_help": "Model used for document embeddings and search",
        "settings.generation_model": "ğŸ’¬ Generation Model",
        "settings.generation_model_help": "Model used for response generation and chat",
        "settings.check_ollama_status": "ğŸ” Check Ollama Status",
        "settings.list_available_models": "ğŸ“‹ List Available Models",
        "settings.use_ollama_list": "Use `ollama list` in terminal to see installed models",
        "settings.system_prompt_config": "ğŸ“ System Prompt Configuration",
        "settings.customize_ai_responses": "Customize how the AI responds to your queries",
        "settings.customize_ai_behavior": "**Customize AI Behavior:**",
        "settings.edit_prompt": "âœï¸ Edit Prompt",
        "settings.file_info": "â„¹ï¸ File Info",
        "settings.system_prompt_content": "System Prompt Content",
        "settings.edit_system_prompt_help": "Edit the system prompt that guides AI responses and behavior.",
        "settings.save_changes": "ğŸ’¾ Save Changes",
        "settings.reset": "ğŸ”„ Reset",
        "settings.reload": "ğŸ” Reload",
        "settings.prompt_saved_reloaded": "âœ… System prompt saved to {filename} and reloaded!",
        "settings.error_saving_prompt": "âŒ Error saving prompt: {error}",
        "settings.prompt_reset_success": "âœ… Prompt reset to current language default",
        "settings.no_prompt_file_found": "âš ï¸ No prompt file found for current language",
        "settings.error_resetting": "âŒ Error resetting: {error}",
        "settings.prompt_service_reloaded": "âœ… System prompt service reloaded",
        "settings.failed_to_reload": "âŒ Failed to reload: {error}",
        "settings.service_not_available": "âš ï¸ Search service not available",
        "settings.file_information": "**File Information:**",
        "settings.file_size": "File Size",
        "settings.content_length": "Content Length",
        "settings.show_content_preview": "Show content preview",
        "settings.preview_first_300": "**Preview (first 300 characters):**",
        "settings.performance_optimization": "ğŸš€ Performance & Optimization Tips",
        "settings.model_selection_tips": "ğŸ’¡ Model Selection Tips",
        "settings.embedding_models_info": "**Embedding Models:**\n- `nomic-embed-text`: Fast, good for general documents\n- `embeddinggemma:300m`: Lightweight, mobile-friendly\n- `mxbai-embed-large`: Higher quality, more memory",
        "settings.generation_models_info": "**Generation Models:**\n- `gpt-oss:20b`: Balanced performance and speed\n- `llama3:8b`: Faster, good for simple queries\n- `llama3:70b`: Higher quality, requires more resources",
        "settings.performance_optimization_tips": "âš¡ Performance Optimization\n- Keep Ollama service running continuously\n- Use smaller models for faster responses\n- Monitor system resources during heavy usage",
        "settings.notifications_feedback": "ğŸ”” Notifications & Feedback",
        "settings.configure_audio_visual": "Configure audio and visual feedback",
        "settings.play_completion_sound": "ğŸ”Š Play sound when response completes",
        "settings.completion_sound_help": "Play a notification sound when AI finishes generating a response",
        "settings.visual_completion_indicator": "âœ¨ Show visual completion indicator", 
        "settings.visual_indicator_help": "Coming soon: Visual indicators for response completion",
        "settings.display_layout": "ğŸ–¥ï¸ Display & Layout",
        "settings.customize_appearance": "Customize the appearance and layout",
        "settings.color_scheme": "ğŸ¨ Color Scheme", 
        "settings.color_scheme_help": "Coming soon: Theme customization",
        "settings.text_size": "ğŸ“ Text Size",
        "settings.text_size_help": "Coming soon: Adjustable text sizing",
        "settings.auto_system": "Auto (System)",
        "settings.light": "Light",
        "settings.dark": "Dark",
        "settings.small": "Small",
        "settings.medium": "Medium", 
        "settings.large": "Large",
        "settings.behavior_performance": "âš¡ Behavior & Performance",
        "settings.control_interface_behavior": "Control how the interface behaves",
        "settings.auto_scroll": "ğŸƒ Auto-scroll to latest message",
        "settings.auto_scroll_help": "Coming soon: Auto-scroll behavior control",
        "settings.auto_save_chat": "ğŸ’¾ Auto-save chat history",
        "settings.auto_save_chat_help": "Coming soon: Automatic chat history saving",
        "settings.coming_soon_advanced": "ğŸš€ Coming Soon - Advanced Options",
        "settings.planned_interface_features": "ğŸ¯ Planned Interface Features",
        "settings.visual_customization": "ğŸ¨ Visual Customization:",
        "settings.visual_customization_list": "- ğŸŒ™ Dark/Light theme toggle\n- ğŸ¨ Custom color schemes\n- ğŸ“± Mobile-responsive layouts\n- ğŸ–¼ï¸ Background customization",
        "settings.interaction_features": "âš¡ Interaction Features:",
        "settings.interaction_features_list": "- âŒ¨ï¸ Keyboard shortcuts\n- ğŸ“‹ Quick action buttons  \n- ğŸ” Enhanced search UI\n- ğŸ“Š Usage statistics display",
        "settings.want_specific_feature": "ğŸ’¡ **Want a specific feature?** These will be added based on user feedback and usage patterns.",
        "settings.current_session_info": "ğŸ“Š Current Session Information",
        "settings.session_details": "ğŸ” Session Details",
        "settings.active_settings": "Active Settings",
        "settings.search_mode": "Search Mode", 
        "settings.results_limit": "Results Limit",
        
        # Sidebar - Missing Keys  
        "sidebar.folder": "ğŸ“‚ Folder: `./{folder}/`",
        "sidebar.found_documents": "Found {count} documents",
        "sidebar.ai_auto_detect": "ğŸ¤– AI Auto-detect",
        "sidebar.auto_detect_help": "Auto-detect document types and languages", 
        "sidebar.index_documents": "ğŸ”„ Index Documents",
        "sidebar.view_documents": "View documents",
        "sidebar.and_more": "... and {count} more",
        "sidebar.no_documents_found": "No documents found",
        "sidebar.supported_formats_basic": "**Supported:** PDF, Word, Markdown, TXT, HTML, CSV, Excel, JSON",
        "sidebar.indexed_metric": "Indexed",
        "sidebar.chunks_metric": "Chunks", 
        "sidebar.reset_index_button": "ğŸ§¹ Reset Index",
        "sidebar.view_indexed": "View indexed",
        "sidebar.no_documents_indexed": "No documents indexed",
        "sidebar.search_tab": "### ğŸ” Search",
        "sidebar.search_mode": "Search Mode",
        "sidebar.search_strategy": "Search strategy",
        "sidebar.hybrid": "hybrid",
        "sidebar.vector": "vector", 
        "sidebar.keyword": "keyword",
        "sidebar.vector_keyword_balance": "Vector/Keyword Balance",
        "sidebar.keyword_vector_help": "0=Keyword only, 1=Vector only",
        "sidebar.keyword_percent": "ğŸ“ Keyword: {kw}% | ğŸ¯ Vector: {vec}%",
        "sidebar.models_tab": "### ğŸ¤– Models",
        "sidebar.current_models": "**Current Models**",
        "sidebar.embedding_model": "ğŸ”¤ Embedding: {model}",
        "sidebar.generation_model": "ğŸ’¬ Generation: {model}",
        "sidebar.setup_guide": "Setup Guide",
        "sidebar.install_ollama_guide": "**Install Ollama:**\n```bash\nbrew install ollama\nollama serve\n```\n\n**Pull Models:**\n```bash\nollama pull embeddinggemma:300m\nollama pull gpt-oss:20b\n```",
        "sidebar.embedding_model_input": "Embedding Model",
        "sidebar.embedding_model_help": "Model for document embeddings",
        "sidebar.generation_model_input": "Generation Model", 
        "sidebar.generation_model_help": "Model for chat responses",
        "sidebar.check_ollama_status": "ğŸ” Check Ollama Status",
        "sidebar.edit_system_prompt": "Edit System Prompt",
        "sidebar.prompt_content": "Prompt Content",
        "sidebar.customize_ai_behavior": "Customize AI behavior",
        "sidebar.save_button": "ğŸ’¾ Save",
        "sidebar.reset_button": "ğŸ”„ Reset",
        "sidebar.saved": "âœ… Saved!",
        "sidebar.error": "âŒ Error: {error}",
        "sidebar.reset_success": "âœ… Reset!",
        "sidebar.settings_tab": "### âš™ï¸ Settings",
        "sidebar.language": "Language",
        "sidebar.language_changed_success": "âœ… Language changed and system prompt reloaded!",
        "sidebar.language_changed_warning": "âš ï¸ Language changed but failed to reload prompt: {error}",
        "sidebar.completion_sound": "ğŸ”Š Completion Sound",
        "sidebar.completion_sound_help": "Play sound when response completes",
        "sidebar.chunk_size_chars": "Chunk Size (characters)", 
        "sidebar.chunk_size_help": "**Chunk Size** determines how much text is processed together as one unit.\n\n**Smaller chunks (500-1000):**\nâ€¢ Better for Q&A with specific facts\nâ€¢ More precise but may lose context\nâ€¢ Good for: FAQs, definitions, short articles\n\n**Medium chunks (1000-2000):** \nâ€¢ Balanced approach for most documents\nâ€¢ Preserves moderate context while staying focused\nâ€¢ Good for: Technical docs, reports, general content\n\n**Larger chunks (2000-3000):**\nâ€¢ Better for complex topics needing context\nâ€¢ May be less precise but preserves relationships\nâ€¢ Good for: Academic papers, detailed explanations, narratives",
        "sidebar.overlap_size_chars": "Overlap Size (characters)",
        "sidebar.overlap_size_help": "**Overlap Size** controls how much text is shared between adjacent chunks.\n\n**No overlap (0):**\nâ€¢ Fastest processing, no duplication\nâ€¢ Risk of breaking related concepts across chunks\nâ€¢ Use when: Documents have clear section breaks\n\n**Small overlap (50-150):**\nâ€¢ Minimal context preservation with good efficiency  \nâ€¢ Helps maintain continuity between chunks\nâ€¢ Use when: Well-structured documents\n\n**Medium overlap (150-300):**\nâ€¢ Good balance of context and efficiency\nâ€¢ Recommended for most document types\nâ€¢ Helps AI understand relationships across boundaries\n\n**Large overlap (300-500):**\nâ€¢ Maximum context preservation\nâ€¢ More processing time and storage\nâ€¢ Use when: Complex documents with interconnected concepts",
        "sidebar.results_count": "Results Count",
        "sidebar.results_count_help": "**Results Count** sets how many relevant document chunks are retrieved for each query.\n\n**Few results (1-3):**\nâ€¢ Faster responses, lower token usage\nâ€¢ More focused but may miss relevant information  \nâ€¢ Good for: Simple questions, specific fact lookup\n\n**Medium results (4-8):**\nâ€¢ Balanced approach for most queries\nâ€¢ Good coverage without overwhelming the AI\nâ€¢ Recommended for: General Q&A, document exploration\n\n**Many results (9-20):**\nâ€¢ Comprehensive information gathering\nâ€¢ Slower responses, higher token usage\nâ€¢ Good for: Complex questions, research tasks, summarization\n\nNote: More results = better coverage but higher costs and slower responses",
        "sidebar.current_configuration": "**Current Configuration**",
        "sidebar.chunk_size_help_metric": "Characters per document chunk",
        "sidebar.overlap_help_metric": "Shared characters between chunks",  
        "sidebar.results_help_metric": "Chunks retrieved per query",
        "sidebar.reset_index_confirmation": "Reset Index Confirmation",
        "sidebar.warning_cannot_undo": "âš ï¸ **Warning**: This action cannot be undone!",
        "sidebar.will_permanently_delete": "This will permanently delete:",
        "sidebar.indexed_documents_embeddings": "- All indexed documents and their embeddings",
        "sidebar.vector_database_entries": "- Vector database entries",
        "sidebar.search_index_data": "- Search index data", 
        "sidebar.need_reindex": "You will need to re-index your documents to restore search functionality.",
        "sidebar.cancel": "âŒ Cancel",
        "sidebar.confirm_reset": "ğŸ—‘ï¸ Confirm Reset",
        
        # Context and Memory - Missing Keys
        "context.memory_usage": "Memory: {used} / {total} tokens",
        "context.memory_status": "The AI can remember up to {limit} tokens of conversation before older messages are summarized.",
        "context.memory_full": "âš ï¸ Memory full - older messages may be summarized",
        "context.memory_high": "âš¡ Memory getting full - monitor usage", 
        "context.memory_ok": "âœ… Memory healthy - plenty of room for conversation",
        "context.memory_full_short": "Memory Full",
        "context.memory_high_short": "Memory High",
        "context.memory_ok_short": "Memory OK",
        "context.memory_optimized": "Memory Optimized",
        "context.removed_messages": "Removed {count} older messages ({tokens} tokens) to maintain performance",
        
        # Additional Missing Keys
        "common.save": "âœ“ Save",
        "common.cancel": "âœ— Cancel",
        "common.delete": "Delete", 
        "common.yes": "Yes",
        "common.no": "No",
        "common.reset": "ğŸ”„ Reset",
        "common.reload": "ğŸ” Reload",
        "common.saved": "âœ… Saved!",
        "common.reset_success": "âœ… Reset!",
        "common.complete": "âœ… Complete",
        "common.streaming": "ğŸ”„ Streaming...",
        "common.ai_thinking": "ğŸ¤” AI is thinking...",
        
        # Settings - More Missing Keys
        "settings.current_configuration_title": "#### ğŸ“Š Current Configuration", 
        "settings.current_config_caption": "Real-time overview of your active settings",
        "settings.chunk_size_metric": "Chunk Size",
        "settings.overlap_metric": "Overlap", 
        "settings.results_metric": "Results",
        "settings.small_qa": "âš ï¸ Small: Good for Q&A",
        "settings.large_code": "ğŸ“¦ Large: Good for code", 
        "settings.balanced": "âœ… Balanced",
        "settings.focused_search": "ğŸ¯ Focused search",
        "settings.comprehensive": "ğŸŒ Comprehensive",
        "settings.balanced_search": "âš–ï¸ Balanced",
        "settings.core_processing_title": "#### ğŸ”§ Core Processing Settings",
        "settings.core_processing_caption": "Fine-tune how documents are chunked and processed",
        "settings.search_config_title": "#### ğŸ” Search Configuration", 
        "settings.search_config_caption": "Control how many results are returned",
        "settings.focused_search_info": "ğŸ¯ **Focused Search**\nFaster, more precise results",
        "settings.balanced_search_info": "âš–ï¸ **Balanced Search**\nGood mix of speed and coverage",
        "settings.comprehensive_search_info": "ğŸŒ **Comprehensive Search**\nMore context, slower processing",
        "settings.optimized_settings_title": "#### ğŸ¯ Optimized Settings by Document Type",
        "settings.required_setup_title": "#### ğŸ› ï¸ Required Setup Steps",
        "settings.tip_keep_ollama_running": "ğŸ’¡ **Tip:** Keep Ollama running in the background for best performance",
        "settings.model_config_title": "#### ğŸ¤– Model Configuration",
        "settings.model_config_caption": "Configure which models to use for embeddings and generation",
        "settings.check_ollama_status": "ğŸ” Check Ollama Status",
        "settings.list_available_models": "ğŸ“‹ List Available Models",
        "settings.use_ollama_list_terminal": "Use `ollama list` in terminal to see installed models",
        "settings.system_prompt_config_title": "#### ğŸ“ System Prompt Configuration",
        "settings.system_prompt_config_caption": "Customize how the AI responds to your queries",
        "settings.customize_ai_behavior": "**Customize AI Behavior:**",
        "settings.save_changes": "ğŸ’¾ Save Changes",
        "settings.prompt_reset_success": "âœ… Prompt reset to current language default",
        "settings.no_prompt_file": "âš ï¸ No prompt file found for current language",
        "settings.system_prompt_reloaded": "âœ… System prompt service reloaded",
        "settings.service_not_available": "âš ï¸ Search service not available",
        "settings.file_information": "**File Information:**",
        "settings.file_size": "File Size",
        "settings.content_length": "Content Length", 
        "settings.show_content_preview": "Show content preview",
        "settings.preview_300_chars": "**Preview (first 300 characters):**",
        "settings.prompt_not_found": "âš ï¸ Prompt file not found; using default built-in prompt.",
        "settings.notifications_title": "#### ğŸ”” Notifications & Feedback",
        "settings.notifications_caption": "Configure audio and visual feedback",
        "settings.display_layout_title": "#### ğŸ–¥ï¸ Display & Layout",
        "settings.display_layout_caption": "Customize the appearance and layout",
        "settings.behavior_title": "#### âš¡ Behavior & Performance", 
        "settings.behavior_caption": "Control how the interface behaves",
        "settings.planned_features_title": "#### ğŸ¯ Planned Interface Features",
        "settings.want_specific_feature": "ğŸ’¡ **Want a specific feature?** These will be added based on user feedback and usage patterns.",
        "settings.session_details_title": "#### ğŸ” Session Details",
        
        # Sidebar - More Missing Keys
        "sidebar.search_title": "### ğŸ” Search",
        "sidebar.models_title": "### ğŸ¤– Models", 
        "sidebar.current_models": "**Current Models**",
        "sidebar.check_ollama_status": "ğŸ” Check Ollama Status",
        "sidebar.system_prompt": "**System Prompt**",
        "sidebar.save": "ğŸ’¾ Save",
        "sidebar.settings_title": "### âš™ï¸ Settings",
        "sidebar.language_success": "âœ… Language changed and system prompt reloaded!",
        "sidebar.interface": "**Interface**",
        "sidebar.document_processing": "**Document Processing**",
        "sidebar.current_config": "**Current Configuration**",
        "sidebar.chunk_size_help": "Characters per document chunk",
        "sidebar.overlap_help": "Shared characters between chunks",
        "sidebar.results_help": "Chunks retrieved per query", 
        "sidebar.warning_cannot_undo": "âš ï¸ **Warning**: This action cannot be undone!",
        "sidebar.will_delete": "This will permanently delete:",
        "sidebar.delete_indexed_docs": "- All indexed documents and their embeddings",
        "sidebar.delete_vector_db": "- Vector database entries",
        "sidebar.delete_search_index": "- Search index data",
        "sidebar.need_reindex": "You will need to re-index your documents to restore search functionality.",
        "sidebar.cancel": "âŒ Cancel",
        "sidebar.confirm_reset": "ğŸ—‘ï¸ Confirm Reset",
        "sidebar.index_reset_completed": "âœ… Index reset completed",
        "sidebar.index_reset_failed": "âŒ Failed to reset index",
        
        # Chat Interface - More Missing Keys  
        "chat.pipeline_stages": "**Pipeline Stages:**",
        "chat.documents_referenced": "### Documents Referenced:",
        "chat.smart_search_optimization": "ğŸ¯ Smart Search Optimization:",
        "chat.search_expanded": "ğŸ”„ Search expanded for better results",
        "chat.no_chunks_received": "ğŸ”„ No chunks received from stream, trying non-streaming mode...",
    },
    "zh-Hant": {
        "app.title": "ğŸ“š å…è²»æ–‡ä»¶GPT",
        "app.subtitle": "å…è²»ã€æœ¬åœ°çš„æ–‡ä»¶AIåŠ©æ‰‹â€”â€”æŠŠæª”æ¡ˆæ”¾é€² `documents/` å°±èƒ½é–‹å§‹ç™¼å•ã€‚",
        "sidebar.document_management": "ğŸ“ æª”æ¡ˆç®¡ç†",
        "sidebar.documents_folder": "ğŸ“‚ æª”æ¡ˆè³‡æ–™å¤¾ï¼š`./{folder}/`",
        "sidebar.index_new_docs": "ğŸ”„ å»ºç«‹æ–°ç´¢å¼•",
        "sidebar.found_docs": "æ‰¾åˆ° {count} ä»½æª”æ¡ˆ",
        "sidebar.auto_detect": "ğŸ¤– AI æ™ºèƒ½è‡ªå‹•è¾¨è­˜",
        "sidebar.auto_detect_help": "ä½¿ç”¨ LLM è¾¨è­˜æ–‡ä»¶é¡å‹èˆ‡èªè¨€ã€‚",
        "sidebar.auto_detect_caption1": "âœ¨ AI æœƒåˆ†ææ¯ä»½æª”æ¡ˆä¸¦è‡ªå‹•èª¿æ•´è™•ç†è¨­å®š",
        "sidebar.auto_detect_caption2": "ğŸŒ æ”¯æ´ English / ç®€ä½“ä¸­æ–‡ / ç¹é«”ä¸­æ–‡ / EspaÃ±ol / æ—¥æœ¬èª åŠæ··åˆå…§å®¹",
        "sidebar.no_docs_found": "åœ¨ `./{folder}/` æ‰¾ä¸åˆ°æª”æ¡ˆ",
        "sidebar.supported_formats_title": "æ”¯æ´æ ¼å¼ï¼š",
        "sidebar.vision_support_title": "ğŸ¨ å½±åƒè¾¨è­˜ï¼š",
        "sidebar.vision_support_detail": "âœ… é€é LLaVA è™•ç† PDF åœ–åƒã€åœ–è¡¨èˆ‡æˆªåœ–",
        "sidebar.supported_formats_list": "PDFã€Wordã€Markdownã€HTMLã€CSVã€Excelã€JSONã€TXT ç­‰",
        "sidebar.indexed_docs": "ğŸ“Š å·²ç´¢å¼•æª”æ¡ˆ",
        "sidebar.reset_index": "ğŸ§¹ é‡è¨­ç´¢å¼•",
        "sidebar.reset_index_help": "æ¸…é™¤ LanceDB è³‡æ–™è¡¨ä¸¦é‡ç½® Tantivy ç´¢å¼•",
        "sidebar.no_index_yet": "å°šæœªå»ºç«‹ä»»ä½•ç´¢å¼•",
        "sidebar.total_chunks": "ç¸½ç‰‡æ®µæ•¸",
        "sidebar.reset_ok": "ç´¢å¼•å·²é‡è¨­ã€‚",
        "sidebar.reset_fail": "é‡è¨­å¤±æ•—ã€‚ä½ ä¹Ÿå¯ä»¥æ‰‹å‹•åˆªé™¤ .lancedb è³‡æ–™å¤¾å¾Œé‡æ–°è¼‰å…¥ã€‚",
        "sidebar.tantivy_warn": "Tantivy æ¸…é™¤è­¦å‘Šï¼š{err}",
        "search.header": "ğŸ” æœå°‹è¨­å®š",
        "search.mode": "æœå°‹æ¨¡å¼",
        "search.mode_help": "æ··åˆæœå°‹åŒæ™‚ä½¿ç”¨é—œéµå­—èˆ‡å‘é‡ï¼Œæ¯”è¼ƒè°æ˜",
        "search.alpha_label": "å‘é‡ vs é—œéµå­— æ¬Šé‡",
        "search.alpha_help": "0 = ç´”é—œéµå­—ï¼Œ1 = ç´”å‘é‡ï¼Œ0.5 = å¹³è¡¡",
        "search.results_label": "çµæœæ•¸é‡",
        "search.results_help": "è¦æ“·å–çš„æ–‡ä»¶ç‰‡æ®µæ•¸é‡",
        "search.weight_caption": "ğŸ“ é—œéµå­—ï¼š{kw}% ï½œ ğŸ¯ å‘é‡ï¼š{vec}%",
        "chat.header": "ğŸ’¬ æå•",
        "chat.input": "å°±ä½ çš„æª”æ¡ˆæå‡ºå•é¡Œâ€¦",
        "buttons.clear_chat": "ğŸ”„ æ¸…é™¤å°è©±",
        "chat.response_metrics": "ğŸ“Š å›æ‡‰æŒ‡æ¨™",
        "chat.metrics_total_time": "ç¸½æ™‚é–“ï¼š{secs:.2f} ç§’",
        "chat.metrics_first_token": "ç¬¬ä¸€å€‹ Tokenï¼š{secs:.2f} ç§’",
        "chat.metrics_tokens": "Token æ•¸ï¼š{count}",
        "chat.metrics_speed": "é€Ÿåº¦ï¼š{rate:.1f} tokens/sec",
        "footer.embedding_model": "Embedding æ¨¡å‹ï¼š",
        "footer.generation_model": "ç”Ÿæˆæ¨¡å‹ï¼š",
        "chat.metric_response_time": "â±ï¸ å›æ‡‰æ™‚é–“",
        "chat.metric_first_token": "ğŸš€ ç¬¬ä¸€å€‹ Token",
        "chat.metric_tokens": "ğŸ“ Token æ•¸",
        "chat.metric_speed": "âš¡ é€Ÿåº¦",
        "chat.searching": "ğŸ” æ­£åœ¨æœå°‹æª”æ¡ˆâ€¦",
        "chat.found_chunks": "âœ… æ‰¾åˆ° {count} å€‹ç›¸é—œç‰‡æ®µï¼Œç”¨æ™‚ {secs:.2f} ç§’",
        "chat.found_chunks_hybrid": "ï¼ˆæ··åˆï¼š{kw} é—œéµå­— + {vec} å‘é‡ï¼‰",
        "chat.found_chunks_keyword": "ï¼ˆé—œéµå­—ï¼š{kw} ç­†ï¼‰",
        "chat.found_chunks_vector": "ï¼ˆå‘é‡ï¼š{vec} ç­†ï¼‰",
        "chat.sources": "ğŸ“– ä¾†æº",
        "chat.search_completed": "æœå°‹å®Œæˆï¼Œç”¨æ™‚ {secs:.2f} ç§’ï¼Œæ¨¡å¼ï¼š{mode}",
        "chat.thinking": "ğŸ¤” æ€è€ƒä¸­â€¦",
        "chat.initializing_model": "ğŸš€ åˆå§‹åŒ– AI æ¨¡å‹â€¦",
        "chat.checking_model": "ğŸ” æª¢æŸ¥æ¨¡å‹å¯ç”¨æ€§â€¦",
        "chat.processing_visuals": "ğŸ¨ è™•ç†è¦–è¦ºåœ–è¡¨â€¦",
        "chat.extracting_visuals": "ğŸ“Š å¾æ–‡ä»¶ä¸­æå–è¦–è¦ºå…§å®¹â€¦",
        "chat.preparing_vision_response": "ğŸ§  æº–å‚™è¦–è¦ºå¢å¼·å›æ‡‰â€¦",
        "chat.connecting_model": "ğŸ”— é€£æ¥èªè¨€æ¨¡å‹â€¦",
        "chat.generating_response": "âœ¨ ç”Ÿæˆå›æ‡‰â€¦",
        "chat.first_token_received": "ğŸš€ é–‹å§‹å›æ‡‰ï¼",
        "chat.streaming": "ğŸ”„ ä¸²æµä¸­â€¦",
        "chat.streaming_animated": "ğŸ”„ ä¸²æµä¸­{dots}",
        "chat.complete": "âœ… å®Œæˆ",
        "chat.error_generating": "ç”¢ç”Ÿå›æ‡‰æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼š{err}",
        "chat.no_relevant": "æ‰¾ä¸åˆ°ç›¸é—œå…§å®¹ï¼Œè«‹å…ˆç¢ºèªå·²ç´¢å¼•æª”æ¡ˆã€‚",
        "chat.no_relevant_title": "âš ï¸ æ‰¾ä¸åˆ°ç›¸é—œæ–‡ä»¶",
        "lang.selector": "ğŸŒ èªè¨€",
        "lang.en": "English",
        "lang.zh_hant": "ç¹é«”ä¸­æ–‡",
        "lang.zh_hans": "ç®€ä½“ä¸­æ–‡",
        "lang.es": "è¥¿ç­ç‰™æ–‡",
        "lang.ja": "æ—¥æ–‡",

        "settings.title": "âš™ï¸ è¨­å®š",
        "settings.doc_processing": "ğŸ“Š æ–‡ä»¶è™•ç†è¨­å®š",
        "settings.quick_presets": "ğŸ¯ å¿«é€Ÿé è¨­",
        "settings.quick_presets_caption": "æœ€ä½³åŒ–å¸¸è¦‹æ–‡ä»¶ï¼šNotion/é£›æ›¸åŒ¯å‡ºã€PDFã€æŠ€è¡“æ–‡ä»¶",
        "settings.preset_meeting": "ğŸ“ æœƒè­°ç´€éŒ„",
        "settings.preset_prd": "ğŸ“‹ PRD/è¦æ ¼",
        "settings.preset_tech": "ğŸ’» æŠ€è¡“æ–‡ä»¶",
        "settings.preset_wiki": "ğŸ“š Wiki/çŸ¥è­˜åº«",
        "settings.preset_applied_meeting": "ğŸ“ å·²å¥—ç”¨ï¼šæœƒè­°ç´€éŒ„",
        "settings.preset_applied_prd": "ğŸ“‹ å·²å¥—ç”¨ï¼šPRD/è¦æ ¼",
        "settings.preset_applied_tech": "ğŸ’» å·²å¥—ç”¨ï¼šæŠ€è¡“æ–‡ä»¶",
        "settings.preset_applied_wiki": "ğŸ“š å·²å¥—ç”¨ï¼šWiki/çŸ¥è­˜åº«",
        "settings.chunk_size": "ğŸ“ ç‰‡æ®µå¤§å°ï¼ˆæ¯æ®µå­—å…ƒæ•¸ï¼‰",
        "settings.chunk_help": "æ··åˆå…§å®¹å»ºè­° 1500â€“1800ã€‚",
        "settings.overlap_size": "ğŸ”„ é‡ç–Šå¤§å°ï¼ˆç‰‡æ®µé–“å…±ç”¨æ–‡å­—ï¼‰",
        "settings.overlap_help": "å«ç¨‹å¼ç¢¼å€å¡Šçš„æ–‡ä»¶å»ºè­° 300â€“400ã€‚",
        "settings.results": "ğŸ” æœå°‹çµæœæ•¸ï¼ˆç›¸é—œç‰‡æ®µæ•¸é‡ï¼‰",
        "settings.results_help": "æŠ€è¡“å•é¡Œç”¨ 5â€“7ï¼Œç°¡å–®å•ç­”ç”¨ 3â€“5ã€‚",
        "settings.current_config": "ğŸ“Š ç›®å‰è¨­å®š",
        "settings.metric_chunk": "ç‰‡æ®µå¤§å°",
        "settings.metric_overlap": "é‡ç–Š",
        "settings.metric_results": "çµæœ",
        "settings.small_good": "âš ï¸ å°ï¼šé©åˆå•ç­”",
        "settings.large_good": "ğŸ“¦ å¤§ï¼šé©åˆç¨‹å¼ç¢¼",
        "settings.balanced": "âœ… å¹³è¡¡",
        "settings.overlap_pct": "é‡ç–Šå æ¯” {pct:.0f}%",
        "settings.focused": "ğŸ¯ ç²¾æº–æœå°‹",
        "settings.comprehensive": "ğŸŒ å…¨é¢",
        "settings.best_practices": "ğŸ’¡ æœ€ä½³å¯¦å‹™",
        "settings.bp_notion_title": "ğŸ“Œ Notion/é£›æ›¸åŒ¯å‡ºï¼š",
        "settings.bp_notion_list": "- è«‹åŒ¯å‡ºç‚º Markdownï¼ˆ.mdï¼‰\n- Notionï¼šSettings â†’ Export â†’ Markdown & CSV\n- é£›æ›¸/Feishu/Larkï¼šæ›´å¤š â†’ åŒ¯å‡º â†’ Markdown",
        "settings.bp_reco_title": "ğŸ“Š å»ºè­°è¨­å®šï¼š",
        "settings.bp_reco_list": "- æœƒè­°ç´€éŒ„ï¼š600â€“800ï¼Œé‡ç–Š 100\n- PRD/è¦æ ¼ï¼š1500ï¼Œé‡ç–Š 300\n- æŠ€è¡“æ–‡ä»¶ï¼š1800ï¼Œé‡ç–Š 400\n- Wiki/æ•™å­¸ï¼š1200ï¼Œé‡ç–Š 200",
        "settings.prompt": "æç¤ºè©ï¼ˆPromptï¼‰",
        "settings.prompt_active": "ä½¿ç”¨ä¸­çš„ç³»çµ±æç¤ºæª”ï¼š",
        "settings.preview_first300": "é è¦½å‰ 300 å­—",
        "settings.prompt_not_found": "æ‰¾ä¸åˆ°æç¤ºæª”ï¼›æ”¹ç”¨å…§å»ºé è¨­ã€‚",
        "settings.prompt_could_not_read": "ç„¡æ³•è®€å–æç¤ºæª”ï¼š{err}",
        "settings.reload_prompt": "ğŸ” é‡æ–°è¼‰å…¥ç³»çµ±æç¤º",
        "settings.reload_ok": "å·²é‡æ–°è¼‰å…¥ã€‚",
        "settings.reload_fail": "é‡æ–°è¼‰å…¥å¤±æ•—ï¼š{err}",
        "settings.reload_na": "ç›®å‰ç„¡æ³•é‡æ–°è¼‰å…¥æç¤ºã€‚",
        "settings.models": "æ¨¡å‹",
        "settings.ollama_prereq": "âš ï¸ éœ€è¦å…ˆæº–å‚™ï¼š\n1. å®‰è£ Ollamaï¼š`brew install ollama`\n2. å•Ÿå‹•ï¼š`ollama serve`\n3. ä¸‹è¼‰æ¨¡å‹ï¼š\n   - `ollama pull embeddinggemma:300m`\n   - `ollama pull gpt-oss:20b`",
        "settings.embed_model": "Embedding æ¨¡å‹",
        "settings.gen_model": "ç”Ÿæˆæ¨¡å‹",
        "settings.model_help": "è«‹å…ˆåœ¨ Ollama å®‰è£è©²æ¨¡å‹",
        "settings.check_ollama": "ğŸ” æª¢æŸ¥ Ollama ç‹€æ…‹",
        
        # Context Visualizer
        "context.breakdown": "ä¸Šä¸‹æ–‡åˆ†è§£",
        "context.free_space": "å¯ç”¨ç©ºé–“",
        "context.detailed_usage": "è©³ç´° Token ä½¿ç”¨é‡",
        "context.optimization_tips": "ğŸ’¡ æœ€ä½³åŒ–å»ºè­°",
        "context.warning_large_history": "âš ï¸ å°è©±è¨˜éŒ„å¤ªé•·ï¼Œå»ºè­°é–‹å§‹æ–°å°è©±ä»¥æå‡æ•ˆèƒ½ã€‚",
        "context.info_many_docs": "ğŸ“„ ä¸Šä¸‹æ–‡ä¸­æœ‰å¾ˆå¤šæ–‡ä»¶ã€‚è©¦è©¦æ›´å…·é«”çš„æŸ¥è©¢ä¾†ç¸®å°æª¢ç´¢ç¯„åœã€‚",
        "context.error_high_usage": "ğŸ”´ ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡éé«˜ (>75%)ï¼Œå›æ‡‰å“è³ªå¯èƒ½ä¸‹é™ã€‚å»ºè­°æ¸…é™¤æ­·å²è¨˜éŒ„ã€‚",
        "context.warning_moderate_usage": "ğŸŸ¡ ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡ä¸­ç­‰ (>50%)ï¼Œè«‹ç•™æ„ Token ä½¿ç”¨é‡ã€‚",
        "context.success_healthy_usage": "ğŸŸ¢ ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡è‰¯å¥½ (<50%)ï¼Œé‚„æœ‰è¶³å¤ ç©ºé–“å°è©±ã€‚",
        "context.total_used": "ç¸½ä½¿ç”¨é‡",
        "context.free_space_metric": "å¯ç”¨ç©ºé–“",
        "context.system_prompt": "ç³»çµ±æç¤º",
        "context.conversation_history": "å°è©±è¨˜éŒ„",
        "context.current_query": "ç›®å‰æŸ¥è©¢",
        "context.retrieved_documents": "æª¢ç´¢æ–‡ä»¶",
        
        # Ollama Utils
        "ollama.error_cannot_connect": "âŒ ç„¡æ³•é€£æ¥ Ollamaã€‚è«‹ç¢ºä¿å·²åŸ·è¡Œï¼š`ollama serve`",
        "ollama.error_gen_model_not_found": "âŒ æ‰¾ä¸åˆ°ç”Ÿæˆæ¨¡å‹ '{model}'ã€‚è«‹åŸ·è¡Œï¼š`ollama pull {model}`",
        "ollama.info_gen_model_available": "âœ… ç”Ÿæˆæ¨¡å‹ '{model}' å¯ç”¨",
        "ollama.error_general": "âŒ Ollama éŒ¯èª¤ï¼š{error}",
        
        # General UI
        "ui.no_files_to_index": "æ²’æœ‰æª”æ¡ˆéœ€è¦ç´¢å¼•",
        "ui.auto_detecting": "ğŸ¤– è‡ªå‹•åµæ¸¬æ–‡ä»¶é¡å‹ä»¥é€²è¡Œæœ€ä½³è™•ç†...",
        "ui.corrupted_index_warning": "åµæ¸¬åˆ°æå£çš„ç´¢å¼•ã€‚é‡è¨­ LanceDB è³‡æ–™è¡¨ï¼›è«‹é‡æ–°ç´¢å¼•æ‚¨çš„æ–‡ä»¶ã€‚",
        "ui.documents": "ğŸ“„ æ–‡ä»¶",
        "ui.no_documents_found": "æ‰¾ä¸åˆ°æ–‡ä»¶",
        "ui.supported_formats": "**æ”¯æ´æ ¼å¼ï¼š** PDFã€Wordã€Markdownã€TXTã€HTMLã€CSVã€Excelã€JSON",
        "ui.warning_permanent_delete": "âš ï¸ **è­¦å‘Š**ï¼šé€™å°‡æ°¸ä¹…åˆªé™¤æ‰€æœ‰å·²ç´¢å¼•çš„æ–‡ä»¶åŠå…¶åµŒå…¥ï¼",
        "ui.reindex_needed": "æ‚¨éœ€è¦é‡æ–°ç´¢å¼•æ–‡ä»¶æ‰èƒ½ä½¿ç”¨æœå°‹åŠŸèƒ½ã€‚",
        "ui.no_documents_indexed": "æ²’æœ‰å·²ç´¢å¼•çš„æ–‡ä»¶",
        "ui.search": "ğŸ” æœå°‹",
        "ui.models": "ğŸ¤– æ¨¡å‹",
        "ui.current_models": "**ç›®å‰æ¨¡å‹**",
        "ui.system_prompt": "**ç³»çµ±æç¤º**",
        "ui.settings": "âš™ï¸ è¨­å®š",
        "ui.interface": "**ä»‹é¢**",
        "ui.document_processing": "**æ–‡ä»¶è™•ç†**",
        "ui.current_configuration": "**ç›®å‰è¨­å®š**",
        "ui.index_reset_completed": "âœ… ç´¢å¼•é‡è¨­å®Œæˆ",
        "ui.index_reset_failed": "âŒ ç´¢å¼•é‡è¨­å¤±æ•—",
        
        # Context and Memory
        "context.memory_usage": "è¨˜æ†¶é«”ï¼š{used} / {total} tokens",
        "context.memory_status": "AI æœ€å¤šèƒ½è¨˜ä½ {limit} tokens çš„å°è©±ï¼Œä¹‹å¾Œæœƒè‡ªå‹•æ‘˜è¦èˆŠè¨Šæ¯ã€‚",
        "context.memory_full": "âš ï¸ è¨˜æ†¶é«”å·²æ»¿ - èˆŠè¨Šæ¯å¯èƒ½æœƒè¢«æ‘˜è¦",
        "context.memory_high": "âš¡ è¨˜æ†¶é«”ä½¿ç”¨é‡åé«˜ - è«‹æ³¨æ„ä½¿ç”¨ç‹€æ³", 
        "context.memory_ok": "âœ… è¨˜æ†¶é«”å¥åº· - æœ‰è¶³å¤ ç©ºé–“ç¹¼çºŒå°è©±",
        "context.memory_full_short": "è¨˜æ†¶é«”å·²æ»¿",
        "context.memory_high_short": "è¨˜æ†¶é«”åé«˜",
        "context.memory_ok_short": "è¨˜æ†¶é«”æ­£å¸¸",
        "context.memory_optimized": "è¨˜æ†¶é«”å·²æœ€ä½³åŒ–",
        "context.removed_messages": "å·²ç§»é™¤ {count} å‰‡èˆŠè¨Šæ¯ï¼ˆ{tokens} tokensï¼‰ä»¥ç¶­æŒæ•ˆèƒ½",
    },
    "zh-Hans": {
        "app.title": "ğŸ“š å…è´¹æ–‡ä»¶GPT",
        "app.subtitle": "å…è´¹ã€æœ¬åœ°çš„æ–‡ä»¶AIåŠ©æ‰‹â€”â€”æŠŠæ–‡ä»¶æ”¾è¿› `documents/` å°±èƒ½å¼€å§‹æé—®ã€‚",
        "sidebar.document_management": "ğŸ“ æ–‡ä»¶ç®¡ç†",
        "sidebar.documents_folder": "ğŸ“‚ æ–‡ä»¶å¤¹ï¼š`./{folder}/`",
        "sidebar.index_new_docs": "ğŸ”„ å»ºç«‹æ–°ç´¢å¼•",
        "sidebar.found_docs": "æ‰¾åˆ° {count} ä¸ªæ–‡ä»¶",
        "sidebar.auto_detect": "ğŸ¤– AI æ™ºèƒ½è‡ªåŠ¨è¯†åˆ«",
        "sidebar.auto_detect_help": "ä½¿ç”¨ LLM è¯†åˆ«æ–‡æ¡£ç±»å‹ä¸è¯­è¨€ã€‚",
        "sidebar.auto_detect_caption1": "âœ¨ AI ä¼šåˆ†ææ¯ä¸ªæ–‡ä»¶å¹¶è‡ªåŠ¨è°ƒæ•´å¤„ç†è®¾ç½®",
        "sidebar.auto_detect_caption2": "ğŸŒ æ”¯æŒ English / ç®€ä½“ä¸­æ–‡ / ç¹é«”ä¸­æ–‡ / EspaÃ±ol / æ—¥æœ¬èª åŠæ··åˆå†…å®¹",
        "sidebar.no_docs_found": "åœ¨ `./{folder}/` æ‰¾ä¸åˆ°æ–‡ä»¶",
        "sidebar.supported_formats_title": "æ”¯æŒæ ¼å¼ï¼š",
        "sidebar.vision_support_title": "ğŸ¨ å›¾åƒè¯†åˆ«ï¼š",
        "sidebar.vision_support_detail": "âœ… é€šè¿‡ LLaVA å¤„ç† PDF å›¾ç‰‡ã€å›¾è¡¨ä¸æˆªå›¾",
        "sidebar.supported_formats_list": "PDFã€Wordã€Markdownã€HTMLã€CSVã€Excelã€JSONã€TXT ç­‰",
        "sidebar.indexed_docs": "ğŸ“Š å·²ç´¢å¼•æ–‡ä»¶",
        "sidebar.reset_index": "ğŸ§¹ é‡ç½®ç´¢å¼•",
        "sidebar.reset_index_help": "æ¸…é™¤ LanceDB è¡¨å¹¶é‡ç½® Tantivy ç´¢å¼•",
        "sidebar.no_index_yet": "å°šæœªå»ºç«‹ä»»ä½•ç´¢å¼•",
        "sidebar.total_chunks": "æ€»ç‰‡æ®µæ•°",
        "sidebar.reset_ok": "ç´¢å¼•å·²é‡ç½®ã€‚",
        "sidebar.reset_fail": "é‡ç½®å¤±è´¥ã€‚ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ é™¤ .lancedb æ–‡ä»¶å¤¹åé‡æ–°åŠ è½½ã€‚",
        "sidebar.tantivy_warn": "Tantivy æ¸…é™¤è­¦å‘Šï¼š{err}",
        "search.header": "ğŸ” æœç´¢è®¾ç½®",
        "search.mode": "æœç´¢æ¨¡å¼",
        "search.mode_help": "æ··åˆæœç´¢ç»“åˆå…³é”®å­—ä¸å‘é‡ï¼Œæ›´èªæ˜",
        "search.alpha_label": "å‘é‡ vs å…³é”®å­— æƒé‡",
        "search.alpha_help": "0 = çº¯å…³é”®å­—ï¼Œ1 = çº¯å‘é‡ï¼Œ0.5 = å¹³è¡¡",
        "search.results_label": "ç»“æœæ•°é‡",
        "search.results_help": "è¦è·å–çš„æ–‡æ¡£ç‰‡æ®µæ•°é‡",
        "search.weight_caption": "ğŸ“ å…³é”®å­—ï¼š{kw}% ï½œ ğŸ¯ å‘é‡ï¼š{vec}%",
        "chat.header": "ğŸ’¬ æé—®",
        "chat.input": "å°±ä½ çš„æ–‡ä»¶æå‡ºé—®é¢˜â€¦",
        "buttons.clear_chat": "ğŸ”„ æ¸…é™¤å¯¹è¯",
        "chat.response_metrics": "ğŸ“Š å“åº”æŒ‡æ ‡",
        "chat.metrics_total_time": "æ€»æ—¶é—´ï¼š{secs:.2f} ç§’",
        "chat.metrics_first_token": "ç¬¬ä¸€ä¸ª Tokenï¼š{secs:.2f} ç§’",
        "chat.metrics_tokens": "Token æ•°ï¼š{count}",
        "chat.metrics_speed": "é€Ÿåº¦ï¼š{rate:.1f} tokens/sec",
        "footer.embedding_model": "Embedding æ¨¡å‹ï¼š",
        "footer.generation_model": "ç”Ÿæˆæ¨¡å‹ï¼š",
        "chat.metric_response_time": "â±ï¸ å“åº”æ—¶é—´",
        "chat.metric_first_token": "ğŸš€ ç¬¬ä¸€ä¸ª Token",
        "chat.metric_tokens": "ğŸ“ Token æ•°",
        "chat.metric_speed": "âš¡ é€Ÿåº¦",
        "chat.searching": "ğŸ” æ­£åœ¨æœç´¢æ–‡ä»¶â€¦",
        "chat.found_chunks": "âœ… æ‰¾åˆ° {count} ä¸ªç›¸å…³ç‰‡æ®µï¼Œç”¨æ—¶ {secs:.2f} ç§’",
        "chat.found_chunks_hybrid": "ï¼ˆæ··åˆï¼š{kw} å…³é”®å­— + {vec} å‘é‡ï¼‰",
        "chat.found_chunks_keyword": "ï¼ˆå…³é”®å­—ï¼š{kw} æ¡ï¼‰",
        "chat.found_chunks_vector": "ï¼ˆå‘é‡ï¼š{vec} æ¡ï¼‰",
        "chat.sources": "ğŸ“– æ¥æº",
        "chat.search_completed": "æœç´¢å®Œæˆï¼Œç”¨æ—¶ {secs:.2f} ç§’ï¼Œæ¨¡å¼ï¼š{mode}",
        "chat.thinking": "ğŸ¤” æ€è€ƒä¸­â€¦",
        "chat.initializing_model": "ğŸš€ åˆå§‹åŒ– AI æ¨¡å‹â€¦",
        "chat.checking_model": "ğŸ” æ£€æŸ¥æ¨¡å‹å¯ç”¨æ€§â€¦",
        "chat.processing_visuals": "ğŸ¨ å¤„ç†è§†è§‰å›¾è¡¨â€¦",
        "chat.extracting_visuals": "ğŸ“Š ä»æ–‡æ¡£ä¸­æå–è§†è§‰å†…å®¹â€¦",
        "chat.preparing_vision_response": "ğŸ§  å‡†å¤‡è§†è§‰å¢å¼ºå“åº”â€¦",
        "chat.connecting_model": "ğŸ”— è¿æ¥è¯­è¨€æ¨¡å‹â€¦",
        "chat.generating_response": "âœ¨ ç”Ÿæˆå“åº”â€¦",
        "chat.first_token_received": "ğŸš€ å¼€å§‹å“åº”ï¼",
        "chat.streaming": "ğŸ”„ æµå¼è¾“å‡ºä¸­â€¦",
        "chat.streaming_animated": "ğŸ”„ æµå¼è¾“å‡ºä¸­{dots}",
        "chat.complete": "âœ… å®Œæˆ",
        "chat.error_generating": "ç”Ÿæˆå›ç­”æ—¶å‘ç”Ÿé”™è¯¯ï¼š{err}",
        "chat.no_relevant": "æ‰¾ä¸åˆ°ç›¸å…³å†…å®¹ï¼Œè¯·å…ˆç¡®è®¤å·²å»ºç«‹ç´¢å¼•ã€‚",
        "chat.no_relevant_title": "âš ï¸ æ‰¾ä¸åˆ°ç›¸å…³æ–‡ä»¶",
        "lang.selector": "ğŸŒ è¯­è¨€",
        "lang.en": "English",
        "lang.zh_hant": "ç¹é«”ä¸­æ–‡",
        "lang.zh_hans": "ç®€ä½“ä¸­æ–‡",
        "lang.es": "è¥¿ç­ç‰™è¯­",
        "lang.ja": "æ—¥è¯­",

        "settings.title": "âš™ï¸ è®¾ç½®",
        "settings.doc_processing": "ğŸ“Š æ–‡æ¡£å¤„ç†è®¾ç½®",
        "settings.quick_presets": "ğŸ¯ å¿«é€Ÿé¢„è®¾",
        "settings.quick_presets_caption": "ä¼˜åŒ–å¸¸è§æ–‡æ¡£ï¼šNotion/é£ä¹¦å¯¼å‡ºã€PDFã€æŠ€æœ¯æ–‡æ¡£",
        "settings.preset_meeting": "ğŸ“ ä¼šè®®è®°å½•",
        "settings.preset_prd": "ğŸ“‹ PRD/è§„æ ¼",
        "settings.preset_tech": "ğŸ’» æŠ€æœ¯æ–‡æ¡£",
        "settings.preset_wiki": "ğŸ“š Wiki/çŸ¥è¯†åº“",
        "settings.preset_applied_meeting": "ğŸ“ å·²åº”ç”¨ï¼šä¼šè®®è®°å½•",
        "settings.preset_applied_prd": "ğŸ“‹ å·²åº”ç”¨ï¼šPRD/è§„æ ¼",
        "settings.preset_applied_tech": "ğŸ’» å·²åº”ç”¨ï¼šæŠ€æœ¯æ–‡æ¡£",
        "settings.preset_applied_wiki": "ğŸ“š å·²åº”ç”¨ï¼šWiki/çŸ¥è¯†åº“",
        "settings.chunk_size": "ğŸ“ ç‰‡æ®µå¤§å°ï¼ˆæ¯æ®µå­—ç¬¦æ•°ï¼‰",
        "settings.chunk_help": "æ··åˆå†…å®¹æ¨è 1500â€“1800ã€‚",
        "settings.overlap_size": "ğŸ”„ é‡å å¤§å°ï¼ˆç‰‡æ®µé—´å…±äº«æ–‡æœ¬ï¼‰",
        "settings.overlap_help": "å«ä»£ç å—çš„æ–‡æ¡£æ¨è 300â€“400ã€‚",
        "settings.results": "ğŸ” æœç´¢ç»“æœæ•°ï¼ˆç›¸å…³ç‰‡æ®µæ•°é‡ï¼‰",
        "settings.results_help": "æŠ€æœ¯é—®é¢˜ç”¨ 5â€“7ï¼Œç®€å•é—®ç­”ç”¨ 3â€“5ã€‚",
        "settings.current_config": "ğŸ“Š å½“å‰è®¾ç½®",
        "settings.metric_chunk": "ç‰‡æ®µå¤§å°",
        "settings.metric_overlap": "é‡å ",
        "settings.metric_results": "ç»“æœ",
        "settings.small_good": "âš ï¸ å°ï¼šé€‚åˆé—®ç­”",
        "settings.large_good": "ğŸ“¦ å¤§ï¼šé€‚åˆä»£ç ",
        "settings.balanced": "âœ… å¹³è¡¡",
        "settings.overlap_pct": "é‡å å æ¯” {pct:.0f}%",
        "settings.focused": "ğŸ¯ ç²¾å‡†æœç´¢",
        "settings.comprehensive": "ğŸŒ å…¨é¢",
        "settings.best_practices": "ğŸ’¡ æœ€ä½³å®è·µ",
        "settings.bp_notion_title": "ğŸ“Œ Notion/é£ä¹¦å¯¼å‡ºï¼š",
        "settings.bp_notion_list": "- è¯·å¯¼å‡ºä¸º Markdownï¼ˆ.mdï¼‰\n- Notionï¼šSettings â†’ Export â†’ Markdown & CSV\n- é£ä¹¦/Feishu/Larkï¼šæ›´å¤š â†’ å¯¼å‡º â†’ Markdown",
        "settings.bp_reco_title": "ğŸ“Š å»ºè®®è®¾ç½®ï¼š",
        "settings.bp_reco_list": "- ä¼šè®®è®°å½•ï¼š600â€“800ï¼Œé‡å  100\n- PRD/è§„æ ¼ï¼š1500ï¼Œé‡å  300\n- æŠ€æœ¯æ–‡æ¡£ï¼š1800ï¼Œé‡å  400\n- Wiki/æ•™ç¨‹ï¼š1200ï¼Œé‡å  200",
        "settings.prompt": "æç¤ºè¯ï¼ˆPromptï¼‰",
        "settings.prompt_active": "ä½¿ç”¨ä¸­çš„ç³»ç»Ÿæç¤ºæ–‡ä»¶ï¼š",
        "settings.preview_first300": "é¢„è§ˆå‰ 300 å­—",
        "settings.prompt_not_found": "æ‰¾ä¸åˆ°æç¤ºæ–‡ä»¶ï¼›æ”¹ç”¨å†…ç½®é»˜è®¤ã€‚",
        "settings.prompt_could_not_read": "æ— æ³•è¯»å–æç¤ºæ–‡ä»¶ï¼š{err}",
        "settings.reload_prompt": "ğŸ” é‡æ–°åŠ è½½ç³»ç»Ÿæç¤º",
        "settings.reload_ok": "å·²é‡æ–°åŠ è½½ã€‚",
        "settings.reload_fail": "é‡æ–°åŠ è½½å¤±è´¥ï¼š{err}",
        "settings.reload_na": "ç›®å‰æ— æ³•é‡æ–°åŠ è½½æç¤ºã€‚",
        "settings.models": "æ¨¡å‹",
        "settings.ollama_prereq": "âš ï¸ éœ€è¦å…ˆå‡†å¤‡ï¼š\n1. å®‰è£… Ollamaï¼š`brew install ollama`\n2. å¯åŠ¨ï¼š`ollama serve`\n3. ä¸‹è½½æ¨¡å‹ï¼š\n   - `ollama pull embeddinggemma:300m`\n   - `ollama pull gpt-oss:20b`",
        "settings.embed_model": "Embedding æ¨¡å‹",
        "settings.gen_model": "ç”Ÿæˆæ¨¡å‹",
        "settings.model_help": "è¯·å…ˆåœ¨ Ollama å®‰è£…è¯¥æ¨¡å‹",
        "settings.check_ollama": "ğŸ” æ£€æŸ¥ Ollama çŠ¶æ€",
        
        # Context Visualizer
        "context.breakdown": "ä¸Šä¸‹æ–‡åˆ†è§£",
        "context.free_space": "å¯ç”¨ç©ºé—´",
        "context.detailed_usage": "è¯¦ç»† Token ä½¿ç”¨é‡",
        "context.optimization_tips": "ğŸ’¡ ä¼˜åŒ–å»ºè®®",
        "context.warning_large_history": "âš ï¸ å¯¹è¯å†å²å¤ªé•¿ï¼Œå»ºè®®å¼€å§‹æ–°å¯¹è¯ä»¥æå‡æ€§èƒ½ã€‚",
        "context.info_many_docs": "ğŸ“„ ä¸Šä¸‹æ–‡ä¸­æœ‰å¾ˆå¤šæ–‡æ¡£ã€‚å°è¯•æ›´å…·ä½“çš„æŸ¥è¯¢æ¥ç¼©å°æ£€ç´¢èŒƒå›´ã€‚",
        "context.error_high_usage": "ğŸ”´ ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡è¿‡é«˜ (>75%)ï¼Œå“åº”è´¨é‡å¯èƒ½ä¸‹é™ã€‚å»ºè®®æ¸…é™¤å†å²è®°å½•ã€‚",
        "context.warning_moderate_usage": "ğŸŸ¡ ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡ä¸­ç­‰ (>50%)ï¼Œè¯·ç•™æ„ Token ä½¿ç”¨é‡ã€‚",
        "context.success_healthy_usage": "ğŸŸ¢ ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡è‰¯å¥½ (<50%)ï¼Œè¿˜æœ‰è¶³å¤Ÿç©ºé—´å¯¹è¯ã€‚",
        "context.total_used": "æ€»ä½¿ç”¨é‡",
        "context.free_space_metric": "å¯ç”¨ç©ºé—´",
        "context.system_prompt": "ç³»ç»Ÿæç¤º",
        "context.conversation_history": "å¯¹è¯å†å²",
        "context.current_query": "å½“å‰æŸ¥è¯¢",
        "context.retrieved_documents": "æ£€ç´¢æ–‡æ¡£",
        
        # Ollama Utils
        "ollama.error_cannot_connect": "âŒ æ— æ³•è¿æ¥ Ollamaã€‚è¯·ç¡®ä¿å·²æ‰§è¡Œï¼š`ollama serve`",
        "ollama.error_gen_model_not_found": "âŒ æ‰¾ä¸åˆ°ç”Ÿæˆæ¨¡å‹ '{model}'ã€‚è¯·æ‰§è¡Œï¼š`ollama pull {model}`",
        "ollama.info_gen_model_available": "âœ… ç”Ÿæˆæ¨¡å‹ '{model}' å¯ç”¨",
        "ollama.error_general": "âŒ Ollama é”™è¯¯ï¼š{error}",
        
        # General UI
        "ui.no_files_to_index": "æ²¡æœ‰æ–‡ä»¶éœ€è¦ç´¢å¼•",
        "ui.auto_detecting": "ğŸ¤– è‡ªåŠ¨æ£€æµ‹æ–‡æ¡£ç±»å‹ä»¥è¿›è¡Œæœ€ä½³å¤„ç†...",
        "ui.corrupted_index_warning": "æ£€æµ‹åˆ°æŸåçš„ç´¢å¼•ã€‚é‡ç½® LanceDB è¡¨ï¼›è¯·é‡æ–°ç´¢å¼•æ‚¨çš„æ–‡æ¡£ã€‚",
        "ui.documents": "ğŸ“„ æ–‡æ¡£",
        "ui.no_documents_found": "æ‰¾ä¸åˆ°æ–‡æ¡£",
        "ui.supported_formats": "**æ”¯æŒæ ¼å¼ï¼š** PDFã€Wordã€Markdownã€TXTã€HTMLã€CSVã€Excelã€JSON",
        "ui.warning_permanent_delete": "âš ï¸ **è­¦å‘Š**ï¼šè¿™å°†æ°¸ä¹…åˆ é™¤æ‰€æœ‰å·²ç´¢å¼•çš„æ–‡æ¡£åŠå…¶åµŒå…¥ï¼",
        "ui.reindex_needed": "æ‚¨éœ€è¦é‡æ–°ç´¢å¼•æ–‡æ¡£æ‰èƒ½ä½¿ç”¨æœç´¢åŠŸèƒ½ã€‚",
        "ui.no_documents_indexed": "æ²¡æœ‰å·²ç´¢å¼•çš„æ–‡æ¡£",
        "ui.search": "ğŸ” æœç´¢",
        "ui.models": "ğŸ¤– æ¨¡å‹",
        "ui.current_models": "**å½“å‰æ¨¡å‹**",
        "ui.system_prompt": "**ç³»ç»Ÿæç¤º**",
        "ui.settings": "âš™ï¸ è®¾ç½®",
        "ui.interface": "**ç•Œé¢**",
        "ui.document_processing": "**æ–‡æ¡£å¤„ç†**",
        "ui.current_configuration": "**å½“å‰é…ç½®**",
        "ui.index_reset_completed": "âœ… ç´¢å¼•é‡ç½®å®Œæˆ",
        "ui.index_reset_failed": "âŒ ç´¢å¼•é‡ç½®å¤±è´¥",
    },
    "es": {
        "app.title": "ğŸ“š DocumentoGPT",
        "app.subtitle": "Asistente AI local y gratuito para tus documentos â€” pon archivos en `documents/` y pregunta al instante.",
        "sidebar.document_management": "ğŸ“ GestiÃ³n de Documentos",
        "sidebar.documents_folder": "ğŸ“‚ Carpeta de documentos: `./{folder}/`",
        "sidebar.index_new_docs": "ğŸ”„ Indexar nuevos documentos",
        "sidebar.found_docs": "Se encontraron {count} documento(s)",
        "sidebar.auto_detect": "ğŸ¤– DetecciÃ³n automÃ¡tica con IA",
        "sidebar.auto_detect_help": "Usa un LLM para detectar tipos e idiomas de documentos.",
        "sidebar.auto_detect_caption1": "âœ¨ La IA analiza cada documento para ajustar el procesamiento",
        "sidebar.auto_detect_caption2": "ğŸŒ Compatible con English, ä¸­æ–‡ (ç®€/ç¹), EspaÃ±ol, æ—¥æœ¬èª",
        "sidebar.no_docs_found": "No se encontraron documentos en `./{folder}/`",
        "sidebar.supported_formats_title": "Formatos compatibles:",
        "sidebar.vision_support_title": "ğŸ¨ Soporte de visiÃ³n:",
        "sidebar.vision_support_detail": "âœ… ImÃ¡genes, grÃ¡ficos y capturas en PDF (LLaVA)",
        "sidebar.supported_formats_list": "PDF, Word, Markdown, HTML, CSV, Excel, JSON, TXT, etc.",
        "sidebar.indexed_docs": "ğŸ“Š Documentos indexados",
        "sidebar.reset_index": "ğŸ§¹ Reiniciar Ã­ndice",
        "sidebar.reset_index_help": "Eliminar la tabla de LanceDB y limpiar el Ã­ndice Tantivy",
        "sidebar.no_index_yet": "AÃºn no hay documentos indexados",
        "sidebar.total_chunks": "Fragmentos totales",
        "sidebar.reset_ok": "Ãndice reiniciado correctamente.",
        "sidebar.reset_fail": "Error al reiniciar. Puedes borrar la carpeta .lancedb y recargar.",
        "sidebar.tantivy_warn": "Advertencia al limpiar Tantivy: {err}",
        "search.header": "ğŸ” ConfiguraciÃ³n de bÃºsqueda",
        "search.mode": "Modo de bÃºsqueda",
        "search.mode_help": "HÃ­brido combina palabras clave y bÃºsqueda vectorial",
        "search.alpha_label": "Peso: Vector vs Palabras clave",
        "search.alpha_help": "0 = Solo palabras clave, 1 = Solo vectorial, 0.5 = Balanceado",
        "search.results_label": "NÃºmero de resultados",
        "search.results_help": "Cantidad de fragmentos a recuperar",
        "search.weight_caption": "ğŸ“ Palabras clave: {kw}% | ğŸ¯ Vector: {vec}%",
        "chat.header": "ğŸ’¬ Haz preguntas",
        "chat.input": "Haz una pregunta sobre tus documentosâ€¦",
        "buttons.clear_chat": "ğŸ”„ Limpiar chat",
        "chat.response_metrics": "ğŸ“Š MÃ©tricas de respuesta",
        "chat.metrics_total_time": "Tiempo total: {secs:.2f}s",
        "chat.metrics_first_token": "Primer token: {secs:.2f}s",
        "chat.metrics_tokens": "Tokens: {count}",
        "chat.metrics_speed": "Velocidad: {rate:.1f} tokens/seg",
        "footer.embedding_model": "Modelo de embedding:",
        "footer.generation_model": "Modelo de generaciÃ³n:",
        "chat.metric_response_time": "â±ï¸ Tiempo de respuesta",
        "chat.metric_first_token": "ğŸš€ Primer token",
        "chat.metric_tokens": "ğŸ“ Tokens",
        "chat.metric_speed": "âš¡ Velocidad",
        "chat.searching": "ğŸ” Buscando en los documentosâ€¦",
        "chat.found_chunks": "âœ… {count} fragmentos relevantes en {secs:.2f}s",
        "chat.found_chunks_hybrid": " (HÃ­brido: {kw} palabras clave + {vec} vector)",
        "chat.found_chunks_keyword": " (Palabras clave: {kw} resultados)",
        "chat.found_chunks_vector": " (Vector: {vec} resultados)",
        "chat.sources": "ğŸ“– Fuentes",
        "chat.search_completed": "BÃºsqueda completada en {secs:.2f}s (modo {mode})",
        "chat.thinking": "ğŸ¤” Pensandoâ€¦",
        "chat.initializing_model": "ğŸš€ Inicializando modelo de IAâ€¦",
        "chat.checking_model": "ğŸ” Verificando disponibilidad del modeloâ€¦",
        "chat.processing_visuals": "ğŸ¨ Procesando grÃ¡ficos y elementos visualesâ€¦",
        "chat.extracting_visuals": "ğŸ“Š Extrayendo contenido visual de documentosâ€¦",
        "chat.preparing_vision_response": "ğŸ§  Preparando respuesta mejorada con visiÃ³nâ€¦",
        "chat.connecting_model": "ğŸ”— Conectando al modelo de lenguajeâ€¦",
        "chat.generating_response": "âœ¨ Generando respuestaâ€¦",
        "chat.first_token_received": "ğŸš€ Â¡Respuesta iniciada!",
        "chat.streaming": "ğŸ”„ Transmitiendoâ€¦",
        "chat.streaming_animated": "ğŸ”„ Transmitiendo{dots}",
        "chat.complete": "âœ… Completado",
        "chat.error_generating": "Error generando la respuesta: {err}",
        "chat.no_relevant": "No encontrÃ© informaciÃ³n relevante en los documentos indexados. AsegÃºrate de indexarlos.",
        "chat.no_relevant_title": "âš ï¸ No se encontraron documentos relevantes",
        "lang.selector": "ğŸŒ Idioma",
        "lang.en": "English",
        "lang.zh_hant": "ç¹é«”ä¸­æ–‡",
        "lang.zh_hans": "ç®€ä½“ä¸­æ–‡",
        "lang.es": "EspaÃ±ol",
        "lang.ja": "æ—¥æœ¬èª",

        "settings.title": "âš™ï¸ Ajustes",
        "settings.doc_processing": "ğŸ“Š Ajustes de procesamiento de documentos",
        "settings.quick_presets": "ğŸ¯ Ajustes rÃ¡pidos",
        "settings.quick_presets_caption": "Optimizado para Notion/Lark, PDFs y docs tÃ©cnicos",
        "settings.preset_meeting": "ğŸ“ Actas/Reuniones",
        "settings.preset_prd": "ğŸ“‹ PRD/Especificaciones",
        "settings.preset_tech": "ğŸ’» DocumentaciÃ³n tÃ©cnica",
        "settings.preset_wiki": "ğŸ“š Wiki/KB",
        "settings.preset_applied_meeting": "ğŸ“ Preajuste aplicado: Reuniones",
        "settings.preset_applied_prd": "ğŸ“‹ Preajuste aplicado: PRD/Especificaciones",
        "settings.preset_applied_tech": "ğŸ’» Preajuste aplicado: DocumentaciÃ³n tÃ©cnica",
        "settings.preset_applied_wiki": "ğŸ“š Preajuste aplicado: Wiki/KB",
        "settings.chunk_size": "ğŸ“ TamaÃ±o de fragmento (caracteres por segmento)",
        "settings.chunk_help": "Para Notion/Lark con contenido mixto: 1500â€“1800 recomendado.",
        "settings.overlap_size": "ğŸ”„ SuperposiciÃ³n (texto compartido entre fragmentos)",
        "settings.overlap_help": "Con bloques de cÃ³digo: usar 300â€“400.",
        "settings.results": "ğŸ” Resultados de bÃºsqueda (fragmentos relevantes)",
        "settings.results_help": "Consultas tÃ©cnicas 5â€“7; Q&A simple 3â€“5.",
        "settings.current_config": "ğŸ“Š ConfiguraciÃ³n actual",
        "settings.metric_chunk": "TamaÃ±o de fragmento",
        "settings.metric_overlap": "SuperposiciÃ³n",
        "settings.metric_results": "Resultados",
        "settings.small_good": "âš ï¸ PequeÃ±o: bueno para Q&A",
        "settings.large_good": "ğŸ“¦ Grande: bueno para cÃ³digo",
        "settings.balanced": "âœ… Equilibrado",
        "settings.overlap_pct": "{pct:.0f}% del tamaÃ±o de fragmento",
        "settings.focused": "ğŸ¯ BÃºsqueda enfocada",
        "settings.comprehensive": "ğŸŒ Integral",
        "settings.best_practices": "ğŸ’¡ Buenas prÃ¡cticas",
        "settings.bp_notion_title": "ğŸ“Œ ExportaciÃ³n Notion/Lark:",
        "settings.bp_notion_list": "- Exporta a Markdown (.md)\n- Notion: Settings â†’ Export â†’ Markdown & CSV\n- Lark/Feishu: More â†’ Export â†’ Markdown",
        "settings.bp_reco_title": "ğŸ“Š ConfiguraciÃ³n recomendada:",
        "settings.bp_reco_list": "- Reuniones: 600â€“800, superposiciÃ³n 100\n- PRD/Especificaciones: 1500, superposiciÃ³n 300\n- TÃ©cnica: 1800, superposiciÃ³n 400\n- Wiki/How-to: 1200, superposiciÃ³n 200",
        "settings.prompt": "Prompt",
        "settings.prompt_active": "Archivo de prompt activo:",
        "settings.preview_first300": "Previsualizar primeros 300 caracteres",
        "settings.prompt_not_found": "No se encontrÃ³ el archivo de prompt; se usa el predeterminado.",
        "settings.prompt_could_not_read": "No se pudo leer el prompt: {err}",
        "settings.reload_prompt": "ğŸ” Recargar prompt del sistema",
        "settings.reload_ok": "Prompt recargado.",
        "settings.reload_fail": "Error al recargar: {err}",
        "settings.reload_na": "No es posible recargar el prompt ahora.",
        "settings.models": "Modelos",
        "settings.ollama_prereq": "âš ï¸ Requisitos previos:\n1. Instala Ollama: `brew install ollama`\n2. Inicia: `ollama serve`\n3. Descarga modelos:\n   - `ollama pull embeddinggemma:300m`\n   - `ollama pull gpt-oss:20b`",
        "settings.embed_model": "Modelo de embedding",
        "settings.gen_model": "Modelo generativo",
        "settings.model_help": "AsegÃºrate de que el modelo estÃ© instalado en Ollama",
        "settings.check_ollama": "ğŸ” Verificar estado de Ollama",
        
        # Context Visualizer
        "context.breakdown": "Desglose del contexto",
        "context.free_space": "Espacio libre",
        "context.detailed_usage": "Uso detallado de tokens",
        "context.optimization_tips": "ğŸ’¡ Consejos de optimizaciÃ³n",
        "context.warning_large_history": "âš ï¸ El historial de conversaciÃ³n es grande. Considera iniciar un nuevo chat para mejor rendimiento.",
        "context.info_many_docs": "ğŸ“„ Muchos documentos en contexto. Prueba consultas mÃ¡s especÃ­ficas para reducir el tamaÃ±o de recuperaciÃ³n.",
        "context.error_high_usage": "ğŸ”´ El uso del contexto es alto (>75%). La calidad de respuesta puede degradarse. Considera limpiar el historial.",
        "context.warning_moderate_usage": "ğŸŸ¡ El uso del contexto es moderado (>50%). Monitorea el uso de tokens.",
        "context.success_healthy_usage": "ğŸŸ¢ El uso del contexto es saludable (<50%). Mucho espacio para conversaciÃ³n.",
        "context.total_used": "Total usado",
        "context.free_space_metric": "Espacio libre",
        "context.system_prompt": "Prompt del sistema",
        "context.conversation_history": "Historial de conversaciÃ³n",
        "context.current_query": "Consulta actual",
        "context.retrieved_documents": "Documentos recuperados",
        
        # Ollama Utils
        "ollama.error_cannot_connect": "âŒ No se puede conectar a Ollama. AsegÃºrate de que estÃ© ejecutÃ¡ndose con: `ollama serve`",
        "ollama.error_gen_model_not_found": "âŒ Modelo generativo '{model}' no encontrado. Ejecuta: `ollama pull {model}`",
        "ollama.info_gen_model_available": "âœ… Modelo generativo '{model}' estÃ¡ disponible",
        "ollama.error_general": "âŒ Error de Ollama: {error}",
        
        # General UI
        "ui.no_files_to_index": "No hay archivos para indexar",
        "ui.auto_detecting": "ğŸ¤– Detectando automÃ¡ticamente tipos de documentos para procesamiento Ã³ptimo...",
        "ui.corrupted_index_warning": "Ãndice corrupto detectado. Reiniciando tabla LanceDB; por favor reindexe sus documentos.",
        "ui.documents": "ğŸ“„ Documentos",
        "ui.no_documents_found": "No se encontraron documentos",
        "ui.supported_formats": "**Soportados:** PDF, Word, Markdown, TXT, HTML, CSV, Excel, JSON",
        "ui.warning_permanent_delete": "âš ï¸ **Advertencia**: Â¡Esto eliminarÃ¡ permanentemente todos los documentos indexados y sus embeddings!",
        "ui.reindex_needed": "NecesitarÃ¡s reindexar tus documentos para usar la funcionalidad de bÃºsqueda.",
        "ui.no_documents_indexed": "No hay documentos indexados",
        "ui.search": "ğŸ” BÃºsqueda",
        "ui.models": "ğŸ¤– Modelos",
        "ui.current_models": "**Modelos actuales**",
        "ui.system_prompt": "**Prompt del sistema**",
        "ui.settings": "âš™ï¸ ConfiguraciÃ³n",
        "ui.interface": "**Interfaz**",
        "ui.document_processing": "**Procesamiento de documentos**",
        "ui.current_configuration": "**ConfiguraciÃ³n actual**",
        "ui.index_reset_completed": "âœ… Reinicio de Ã­ndice completado",
        "ui.index_reset_failed": "âŒ FallÃ³ el reinicio del Ã­ndice",
    },
    "ja": {
        "app.title": "ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆGPT",
        "app.subtitle": "ç„¡æ–™ãƒ»ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆAIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ â€” `documents/` ã«å…¥ã‚Œã¦è³ªå•ã™ã‚‹ã ã‘ã€‚",
        "sidebar.document_management": "ğŸ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†",
        "sidebar.documents_folder": "ğŸ“‚ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ•ã‚©ãƒ«ãƒ€: `./{folder}/`",
        "sidebar.index_new_docs": "ğŸ”„ æ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹",
        "sidebar.found_docs": "{count} ä»¶ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¤œå‡º",
        "sidebar.auto_detect": "ğŸ¤– AI è‡ªå‹•åˆ¤åˆ¥",
        "sidebar.auto_detect_help": "LLM ãŒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç¨®é¡ã¨è¨€èªã‚’åˆ¤åˆ¥ã—ã¾ã™ã€‚",
        "sidebar.auto_detect_caption1": "âœ¨ å„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è§£æã—ã¦å‡¦ç†ã‚’æœ€é©åŒ–",
        "sidebar.auto_detect_caption2": "ğŸŒ Englishãƒ»ä¸­æ–‡(ç®€/ç¹)ãƒ»EspaÃ±olãƒ»æ—¥æœ¬èª ã«å¯¾å¿œ",
        "sidebar.no_docs_found": "`./{folder}/` ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“",
        "sidebar.supported_formats_title": "å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:",
        "sidebar.vision_support_title": "ğŸ¨ ç”»åƒç†è§£:",
        "sidebar.vision_support_detail": "âœ… LLaVA ã«ã‚ˆã‚Š PDF ã®ç”»åƒãƒ»å›³ãƒ»ã‚¹ã‚¯ã‚·ãƒ§ã«å¯¾å¿œ",
        "sidebar.supported_formats_list": "PDFã€Wordã€Markdownã€HTMLã€CSVã€Excelã€JSONã€TXT ãªã©",
        "sidebar.indexed_docs": "ğŸ“Š ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ¸ˆã¿ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ",
        "sidebar.reset_index": "ğŸ§¹ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆ",
        "sidebar.reset_index_help": "LanceDB ãƒ†ãƒ¼ãƒ–ãƒ«å‰Šé™¤ã¨ Tantivy ã®ã‚¯ãƒªã‚¢",
        "sidebar.no_index_yet": "ã¾ã ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒã‚ã‚Šã¾ã›ã‚“",
        "sidebar.total_chunks": "åˆè¨ˆãƒãƒ£ãƒ³ã‚¯æ•°",
        "sidebar.reset_ok": "ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸã€‚",
        "sidebar.reset_fail": "ãƒªã‚»ãƒƒãƒˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚.lancedb ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„ã€‚",
        "sidebar.tantivy_warn": "Tantivy ã‚¯ãƒªã‚¢è­¦å‘Š: {err}",
        "search.header": "ğŸ” æ¤œç´¢è¨­å®š",
        "search.mode": "æ¤œç´¢ãƒ¢ãƒ¼ãƒ‰",
        "search.mode_help": "ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã¯ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨ãƒ™ã‚¯ãƒˆãƒ«ã‚’ä½µç”¨",
        "search.alpha_label": "ãƒ™ã‚¯ãƒˆãƒ« vs ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ é‡ã¿",
        "search.alpha_help": "0 = ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ã¿, 1 = ãƒ™ã‚¯ãƒˆãƒ«ã®ã¿, 0.5 = ãƒãƒ©ãƒ³ã‚¹",
        "search.results_label": "çµæœã®ä»¶æ•°",
        "search.results_help": "å–å¾—ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ–­ç‰‡ã®æ•°",
        "search.weight_caption": "ğŸ“ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: {kw}% | ğŸ¯ ãƒ™ã‚¯ãƒˆãƒ«: {vec}%",
        "chat.header": "ğŸ’¬ è³ªå•ã™ã‚‹",
        "chat.input": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¤ã„ã¦è³ªå•â€¦",
        "buttons.clear_chat": "ğŸ”„ ãƒãƒ£ãƒƒãƒˆã‚’ã‚¯ãƒªã‚¢",
        "chat.response_metrics": "ğŸ“Š å¿œç­”ãƒ¡ãƒˆãƒªã‚¯ã‚¹",
        "chat.metrics_total_time": "åˆè¨ˆæ™‚é–“: {secs:.2f}s",
        "chat.metrics_first_token": "æœ€åˆã®ãƒˆãƒ¼ã‚¯ãƒ³: {secs:.2f}s",
        "chat.metrics_tokens": "ãƒˆãƒ¼ã‚¯ãƒ³æ•°: {count}",
        "chat.metrics_speed": "é€Ÿåº¦: {rate:.1f} tokens/ç§’",
        "footer.embedding_model": "Embedding ãƒ¢ãƒ‡ãƒ«:",
        "footer.generation_model": "ç”Ÿæˆãƒ¢ãƒ‡ãƒ«:",
        "chat.metric_response_time": "â±ï¸ å¿œç­”æ™‚é–“",
        "chat.metric_first_token": "ğŸš€ æœ€åˆã®ãƒˆãƒ¼ã‚¯ãƒ³",
        "chat.metric_tokens": "ğŸ“ ãƒˆãƒ¼ã‚¯ãƒ³æ•°",
        "chat.metric_speed": "âš¡ é€Ÿåº¦",
        "chat.searching": "ğŸ” ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¤œç´¢ä¸­â€¦",
        "chat.found_chunks": "âœ… é–¢é€£ãƒãƒ£ãƒ³ã‚¯ {count} ä»¶ï¼ˆ{secs:.2f}sï¼‰",
        "chat.found_chunks_hybrid": "ï¼ˆãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰: ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ {kw} + ãƒ™ã‚¯ãƒˆãƒ« {vec}ï¼‰",
        "chat.found_chunks_keyword": "ï¼ˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: {kw} ä»¶ï¼‰",
        "chat.found_chunks_vector": "ï¼ˆãƒ™ã‚¯ãƒˆãƒ«: {vec} ä»¶ï¼‰",
        "chat.sources": "ğŸ“– å‚ç…§å…ƒ",
        "chat.search_completed": "æ¤œç´¢å®Œäº† {secs:.2f}sï¼ˆ{mode} ãƒ¢ãƒ¼ãƒ‰ï¼‰",
        "chat.thinking": "ğŸ¤” è€ƒãˆä¸­â€¦",
        "chat.streaming": "ğŸ”„ ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ä¸­â€¦",
        "chat.complete": "âœ… å®Œäº†",
        "chat.error_generating": "å¿œç­”ã®ç”Ÿæˆã§ã‚¨ãƒ©ãƒ¼: {err}",
        "chat.no_relevant": "ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ¸ˆã¿ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«é–¢é€£æƒ…å ±ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã¾ãšã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã—ã¦ãã ã•ã„ã€‚",
        "chat.no_relevant_title": "âš ï¸ é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“",
        "lang.selector": "ğŸŒ è¨€èª",
        "lang.en": "English",
        "lang.zh_hant": "ç¹é«”ä¸­æ–‡",
        "lang.zh_hans": "ç®€ä½“ä¸­æ–‡",
        "lang.es": "EspaÃ±ol",
        "lang.ja": "æ—¥æœ¬èª",

        "settings.title": "âš™ï¸ è¨­å®š",
        "settings.doc_processing": "ğŸ“Š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†ã®è¨­å®š",
        "settings.quick_presets": "ğŸ¯ ã‹ã‚“ãŸã‚“ãƒ—ãƒªã‚»ãƒƒãƒˆ",
        "settings.quick_presets_caption": "Notion/Lark ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€PDFã€æŠ€è¡“æ–‡æ›¸ã«æœ€é©åŒ–",
        "settings.preset_meeting": "ğŸ“ ä¼šè­°ãƒ¡ãƒ¢",
        "settings.preset_prd": "ğŸ“‹ PRD/ä»•æ§˜",
        "settings.preset_tech": "ğŸ’» æŠ€è¡“æ–‡æ›¸",
        "settings.preset_wiki": "ğŸ“š Wiki/ãƒŠãƒ¬ãƒƒã‚¸",
        "settings.preset_applied_meeting": "ğŸ“ é©ç”¨: ä¼šè­°ãƒ¡ãƒ¢",
        "settings.preset_applied_prd": "ğŸ“‹ é©ç”¨: PRD/ä»•æ§˜",
        "settings.preset_applied_tech": "ğŸ’» é©ç”¨: æŠ€è¡“æ–‡æ›¸",
        "settings.preset_applied_wiki": "ğŸ“š é©ç”¨: Wiki/ãƒŠãƒ¬ãƒƒã‚¸",
        "settings.chunk_size": "ğŸ“ ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºï¼ˆ1 ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®æ–‡å­—æ•°ï¼‰",
        "settings.chunk_help": "æ··åœ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã¯ 1500â€“1800 ã‚’æ¨å¥¨ã€‚",
        "settings.overlap_size": "ğŸ”„ ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ï¼ˆãƒãƒ£ãƒ³ã‚¯é–“ã®å…±æœ‰ãƒ†ã‚­ã‚¹ãƒˆï¼‰",
        "settings.overlap_help": "ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’å«ã‚€æ–‡æ›¸ã¯ 300â€“400 ã‚’æ¨å¥¨ã€‚",
        "settings.results": "ğŸ” æ¤œç´¢çµæœï¼ˆé–¢é€£ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæ•°ï¼‰",
        "settings.results_help": "æŠ€è¡“çš„ãªè³ªå• 5â€“7ã€ç°¡å˜ãª Q&A 3â€“5ã€‚",
        "settings.current_config": "ğŸ“Š ç¾åœ¨ã®è¨­å®š",
        "settings.metric_chunk": "ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚º",
        "settings.metric_overlap": "ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—",
        "settings.metric_results": "çµæœ",
        "settings.small_good": "âš ï¸ å°: Q&A å‘ã‘",
        "settings.large_good": "ğŸ“¦ å¤§: ã‚³ãƒ¼ãƒ‰å‘ã‘",
        "settings.balanced": "âœ… ãƒãƒ©ãƒ³ã‚¹",
        "settings.overlap_pct": "ãƒãƒ£ãƒ³ã‚¯æ¯” {pct:.0f}%",
        "settings.focused": "ğŸ¯ é›†ä¸­æ¤œç´¢",
        "settings.comprehensive": "ğŸŒ ç¶²ç¾…çš„",
        "settings.best_practices": "ğŸ’¡ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹",
        "settings.bp_notion_title": "ğŸ“Œ Notion/Lark ã®æ›¸ãå‡ºã—:",
        "settings.bp_notion_list": "- æœ€é«˜ã®çµæœã«ã¯ Markdown (.md) ã§æ›¸ãå‡ºã—\n- Notion: Settings â†’ Export â†’ Markdown & CSV\n- Lark/Feishu: More â†’ Export â†’ Markdown",
        "settings.bp_reco_title": "ğŸ“Š æ¨å¥¨è¨­å®š:",
        "settings.bp_reco_list": "- ä¼šè­°ãƒ¡ãƒ¢: 600â€“800ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ— 100\n- PRD/ä»•æ§˜: 1500ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ— 300\n- æŠ€è¡“æ–‡æ›¸: 1800ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ— 400\n- Wiki/How-to: 1200ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ— 200",
        "settings.prompt": "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ",
        "settings.prompt_active": "ä½¿ç”¨ä¸­ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:",
        "settings.preview_first300": "å…ˆé ­ 300 æ–‡å­—ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
        "settings.prompt_not_found": "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚",
        "settings.prompt_could_not_read": "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ: {err}",
        "settings.reload_prompt": "ğŸ” ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å†èª­ã¿è¾¼ã¿",
        "settings.reload_ok": "å†èª­ã¿è¾¼ã¿ã—ã¾ã—ãŸã€‚",
        "settings.reload_fail": "å†èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ: {err}",
        "settings.reload_na": "ä»Šã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å†èª­ã¿è¾¼ã¿ã§ãã¾ã›ã‚“ã€‚",
        "settings.models": "ãƒ¢ãƒ‡ãƒ«",
        "settings.ollama_prereq": "âš ï¸ äº‹å‰æº–å‚™:\n1. Ollama ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: `brew install ollama`\n2. èµ·å‹•: `ollama serve`\n3. ãƒ¢ãƒ‡ãƒ«ã‚’å–å¾—:\n   - `ollama pull embeddinggemma:300m`\n   - `ollama pull gpt-oss:20b`",
        "settings.embed_model": "Embedding ãƒ¢ãƒ‡ãƒ«",
        "settings.gen_model": "ç”Ÿæˆãƒ¢ãƒ‡ãƒ«",
        "settings.model_help": "Ollama ã«ãƒ¢ãƒ‡ãƒ«ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„",
        "settings.check_ollama": "ğŸ” Ollama ã®çŠ¶æ…‹ã‚’ç¢ºèª",
        
        # Context Visualizer
        "context.breakdown": "ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å†…è¨³",
        "context.free_space": "ç©ºãå®¹é‡",
        "context.detailed_usage": "è©³ç´°ãªãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡",
        "context.optimization_tips": "ğŸ’¡ æœ€é©åŒ–ã®ãƒ’ãƒ³ãƒˆ",
        "context.warning_large_history": "âš ï¸ ä¼šè©±å±¥æ­´ãŒå¤§ãããªã£ã¦ã„ã¾ã™ã€‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã®ãŸã‚æ–°ã—ã„ãƒãƒ£ãƒƒãƒˆã‚’é–‹å§‹ã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚",
        "context.info_many_docs": "ğŸ“„ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¤šãã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã‚ã‚Šã¾ã™ã€‚æ¤œç´¢ç¯„å›²ã‚’æ¸›ã‚‰ã™ãŸã‚ã€ã‚ˆã‚Šå…·ä½“çš„ãªã‚¯ã‚¨ãƒªã‚’è©¦ã—ã¦ãã ã•ã„ã€‚",
        "context.error_high_usage": "ğŸ”´ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä½¿ç”¨é‡ãŒé«˜ã„ã§ã™ï¼ˆ>75%ï¼‰ã€‚å¿œç­”å“è³ªãŒä½ä¸‹ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚å±¥æ­´ã®ã‚¯ãƒªã‚¢ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚",
        "context.warning_moderate_usage": "ğŸŸ¡ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä½¿ç”¨é‡ãŒä¸­ç¨‹åº¦ã§ã™ï¼ˆ>50%ï¼‰ã€‚ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡ã‚’ç›£è¦–ã—ã¦ãã ã•ã„ã€‚",
        "context.success_healthy_usage": "ğŸŸ¢ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä½¿ç”¨é‡ã¯å¥å…¨ã§ã™ï¼ˆ<50%ï¼‰ã€‚ä¼šè©±ã®ä½™è£•ã¯ã¾ã ã‚ã‚Šã¾ã™ã€‚",
        "context.total_used": "ç·ä½¿ç”¨é‡",
        "context.free_space_metric": "ç©ºãå®¹é‡",
        "context.system_prompt": "ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ",
        "context.conversation_history": "ä¼šè©±å±¥æ­´",
        "context.current_query": "ç¾åœ¨ã®ã‚¯ã‚¨ãƒª",
        "context.retrieved_documents": "å–å¾—ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ",
        
        # Ollama Utils
        "ollama.error_cannot_connect": "âŒ Ollama ã«æ¥ç¶šã§ãã¾ã›ã‚“ã€‚æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š`ollama serve`",
        "ollama.error_gen_model_not_found": "âŒ ç”Ÿæˆãƒ¢ãƒ‡ãƒ« '{model}' ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚æ¬¡ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š`ollama pull {model}`",
        "ollama.info_gen_model_available": "âœ… ç”Ÿæˆãƒ¢ãƒ‡ãƒ« '{model}' ãŒåˆ©ç”¨å¯èƒ½ã§ã™",
        "ollama.error_general": "âŒ Ollama ã‚¨ãƒ©ãƒ¼ï¼š{error}",
        
        # General UI
        "ui.no_files_to_index": "ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã›ã‚“",
        "ui.auto_detecting": "ğŸ¤– æœ€é©ãªå‡¦ç†ã®ãŸã‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’è‡ªå‹•æ¤œå‡ºä¸­...",
        "ui.corrupted_index_warning": "ç ´æã—ãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’æ¤œå‡ºã—ã¾ã—ãŸã€‚LanceDB ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ã„ã¾ã™ï¼›ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å†ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã—ã¦ãã ã•ã„ã€‚",
        "ui.documents": "ğŸ“„ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ",
        "ui.no_documents_found": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“",
        "ui.supported_formats": "**ã‚µãƒãƒ¼ãƒˆå½¢å¼ï¼š** PDFã€Wordã€Markdownã€TXTã€HTMLã€CSVã€Excelã€JSON",
        "ui.warning_permanent_delete": "âš ï¸ **è­¦å‘Š**ï¼šã“ã‚Œã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã•ã‚ŒãŸã™ã¹ã¦ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ãã®åŸ‹ã‚è¾¼ã¿ã‚’æ°¸ç¶šçš„ã«å‰Šé™¤ã—ã¾ã™ï¼",
        "ui.reindex_needed": "æ¤œç´¢æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å†ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚",
        "ui.no_documents_indexed": "ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã‚ã‚Šã¾ã›ã‚“",
        "ui.search": "ğŸ” æ¤œç´¢",
        "ui.models": "ğŸ¤– ãƒ¢ãƒ‡ãƒ«",
        "ui.current_models": "**ç¾åœ¨ã®ãƒ¢ãƒ‡ãƒ«**",
        "ui.system_prompt": "**ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**",
        "ui.settings": "âš™ï¸ è¨­å®š",
        "ui.interface": "**ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹**",
        "ui.document_processing": "**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†**",
        "ui.current_configuration": "**ç¾åœ¨ã®è¨­å®š**",
        "ui.index_reset_completed": "âœ… ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ãƒªã‚»ãƒƒãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ",
        "ui.index_reset_failed": "âŒ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ãƒªã‚»ãƒƒãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ",
    },
}


def get_locale() -> str:
    return st.session_state.get("locale", "en")


def set_locale(locale: str) -> None:
    if locale in _TRANSLATIONS:
        st.session_state["locale"] = locale


def t(key: str, default: str | None = None, **kwargs) -> str:
    locale = get_locale()
    catalog = _TRANSLATIONS.get(locale, _TRANSLATIONS["en"])  # fallback to en
    text = catalog.get(key)
    if text is None:
        # fallback chain: default -> en -> key
        text = default or _TRANSLATIONS["en"].get(key, key)
    try:
        return text.format(**kwargs)
    except Exception:
        return text
